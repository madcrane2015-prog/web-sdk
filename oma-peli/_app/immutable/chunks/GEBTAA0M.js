const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CWf_IyR7.js","./CBbKHpYJ.js","./Tq_l31Uc.js","./DnfKLrwR.js","./DaIoDKDl.js","./DTsOik4O.js","./C2GHuDhf.js","./W60AHa2M.js","./DnNhZQP7.js","./Dc5LujoO.js"])))=>i.map(i=>d[i]);
var ze=Object.defineProperty;var Ke=(t,e,r)=>e in t?ze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var b=(t,e,r)=>Ke(t,typeof e!="symbol"?e+"":e,r);import{l as Ye,t as M,s as Xe,e as ae,a as I,c as qe}from"./DnfKLrwR.js";import{i as ke}from"./Bc1CPjOC.js";import{aq as Je,R as Qe,g as Ze,n as et,p as Re,a4 as Ae,i as m,ar as G,f as q,y as T,s as j,c as Y,r as X,t as tt,a as Ie,as as st}from"./Tq_l31Uc.js";import{_ as Oe,i as oe}from"./DaIoDKDl.js";import{e as fe,E as $,a as rt,C as pe,d as le,v as ce,b as se,D as ue,c as Te,S as Ce,s as re,f as nt}from"./CBbKHpYJ.js";import{b as it,p as at}from"./CLm8dMku.js";import{b as p}from"./BrpY_N-S.js";import{G as Ee}from"./DTsOik4O.js";function ot(t,e,r=e){var s=Je();Ye(t,"input",n=>{var a=n?t.defaultValue:t.value;if(a=ne(t)?ie(a):a,r(a),s&&a!==(a=e())){var c=t.selectionStart,d=t.selectionEnd;t.value=a??"",d!==null&&(t.selectionStart=c,t.selectionEnd=Math.min(d,t.value.length))}}),(Qe&&t.defaultValue!==t.value||Ze(e)==null&&t.value)&&r(ne(t)?ie(t.value):t.value),et(()=>{var n=e();ne(t)&&n===ie(t.value)||t.type==="date"&&!n&&!t.value||n!==t.value&&(t.value=n??"")})}function ne(t){var e=t.type;return e==="number"||e==="range"}function ie(t){return t===""?null:+t}function lt(t){return function(...e){var r=e[0];return r.preventDefault(),t==null?void 0:t.apply(this,e)}}const de=[];fe.handleByNamedList($.Environment,de);async function ct(t){if(!t)for(let e=0;e<de.length;e++){const r=de[e];if(r.value.test()){await r.value.load();return}}}let H;function ut(){if(typeof H=="boolean")return H;try{H=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{H=!1}return H}var je=(t=>(t[t.NONE=0]="NONE",t[t.COLOR=16384]="COLOR",t[t.STENCIL=1024]="STENCIL",t[t.DEPTH=256]="DEPTH",t[t.COLOR_DEPTH=16640]="COLOR_DEPTH",t[t.COLOR_STENCIL=17408]="COLOR_STENCIL",t[t.DEPTH_STENCIL=1280]="DEPTH_STENCIL",t[t.ALL=17664]="ALL",t))(je||{});class dt{constructor(e){this.items=[],this._name=e}emit(e,r,s,n,a,c,d,g){const{name:L,items:x}=this;for(let y=0,C=x.length;y<C;y++)x[y][L](e,r,s,n,a,c,d,g);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&this.items.splice(r,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const ht=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],Le=class Ne extends rt{constructor(e){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const r=[...ht,...this.config.runners??[]];this._addRunners(...r),this._unsafeEvalCheck()}async init(e={}){const r=e.skipExtensionImports===!0?!0:e.manageImports===!1;await ct(r),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const s in this._systemsHash)e={...this._systemsHash[s].constructor.defaultOptions,...e};e={...Ne.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let s=0;s<this.runners.init.items.length;s++)await this.runners.init.items[s].init(e);this._initOptions=e}render(e,r){let s=e;if(s instanceof pe&&(s={container:s},r&&(le(ce,"passing a second argument is deprecated, please use render options instead"),s.target=r.renderTexture)),s.target||(s.target=this.view.renderTarget),s.target===this.view.renderTarget&&(this._lastObjectRendered=s.container,s.clearColor??(s.clearColor=this.background.colorRgba),s.clear??(s.clear=this.background.clearBeforeRender)),s.clearColor){const n=Array.isArray(s.clearColor)&&s.clearColor.length===4;s.clearColor=n?s.clearColor:se.shared.setValue(s.clearColor).toArray()}s.transform||(s.container.updateLocalTransform(),s.transform=s.container.localTransform),s.container.enableRenderGroup(),this.runners.prerender.emit(s),this.runners.renderStart.emit(s),this.runners.render.emit(s),this.runners.renderEnd.emit(s),this.runners.postrender.emit(s)}resize(e,r,s){const n=this.view.resolution;this.view.resize(e,r,s),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),s!==void 0&&s!==n&&this.runners.resolutionChange.emit(s)}clear(e={}){const r=this;e.target||(e.target=r.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=je.ALL);const{clear:s,clearColor:n,target:a}=e;se.shared.setValue(n??this.background.colorRgba),r.renderTarget.clear(a,s,se.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(r=>{this.runners[r]=new dt(r)})}_addSystems(e){let r;for(r in e){const s=e[r];this._addSystem(s.value,s.name)}}_addSystem(e,r){const s=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=s,this._systemsHash[r]=s;for(const n in this.runners)this.runners[n].add(s);return this}_addPipes(e,r){const s=r.reduce((n,a)=>(n[a.name]=a.value,n),{});e.forEach(n=>{const a=n.value,c=n.name,d=s[c];this.renderPipes[c]=new a(this,d?new d:null)})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),Object.values(this.runners).forEach(r=>{r.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!ut())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};Le.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let De=Le,z;function ft(t){return z!==void 0||(z=(()=>{var r;const e={stencil:!0,failIfMajorPerformanceCaveat:t??De.defaultOptions.failIfMajorPerformanceCaveat};try{if(!ue.get().getWebGLRenderingContext())return!1;let n=ue.get().createCanvas().getContext("webgl",e);const a=!!((r=n==null?void 0:n.getContextAttributes())!=null&&r.stencil);if(n){const c=n.getExtension("WEBGL_lose_context");c&&c.loseContext()}return n=null,a}catch{return!1}})()),z}let K;async function pt(t={}){return K!==void 0||(K=await(async()=>{const e=ue.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(t)).requestDevice(),!0}catch{return!1}})()),K}const Pe=["webgl","webgpu","canvas"];async function mt(t){let e=[];t.preference?(e.push(t.preference),Pe.forEach(a=>{a!==t.preference&&e.push(a)})):e=Pe.slice();let r,s={};for(let a=0;a<e.length;a++){const c=e[a];if(c==="webgpu"&&await pt()){const{WebGPURenderer:d}=await Oe(async()=>{const{WebGPURenderer:g}=await import("./CWf_IyR7.js");return{WebGPURenderer:g}},__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url);r=d,s={...t,...t.webgpu};break}else if(c==="webgl"&&ft(t.failIfMajorPerformanceCaveat??De.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:d}=await Oe(async()=>{const{WebGLRenderer:g}=await import("./Dc5LujoO.js");return{WebGLRenderer:g}},__vite__mapDeps([9,1,2,3,4,6,7,5]),import.meta.url);r=d,s={...t,...t.webgl};break}else if(c==="canvas")throw s={...t},new Error("CanvasRenderer is not yet implemented")}if(delete s.webgpu,delete s.webgl,!r)throw new Error("No available renderer for the current environment");const n=new r;return await n.init(s),n}const He="8.8.1";class Ge{static init(){var e;(e=globalThis.__PIXI_APP_INIT__)==null||e.call(globalThis,this,He)}static destroy(){}}Ge.extension=$.Application;class gt{constructor(e){this._renderer=e}init(){var e;(e=globalThis.__PIXI_RENDERER_INIT__)==null||e.call(globalThis,this._renderer,He)}destroy(){this._renderer=null}}gt.extension={type:[$.WebGLSystem,$.WebGPUSystem],name:"initHook",priority:-10};const $e=class he{constructor(...e){this.stage=new pe,e[0]!==void 0&&le(ce,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.renderer=await mt(e),he._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return le(ce,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,r=!1){const s=he._plugins.slice(0);s.reverse(),s.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};$e._plugins=[];let Me=$e;fe.handleByList($.Application,Me._plugins);fe.add(Ge);var vt=M('<div></div> <button> </button> <button title="SPIN"></button>',1);function bt(t,e){Re(e,!1);const r=5,s=3,n=800,a=800,c=1.25,d=-10,g=60,L=370,x=600,y=-40,C=1,E="heigth",N=Math.round(100*c),P=Math.round(N*(700/760)),_=10,k=P+_,Q=["a","b","c","d","e","f","g","h","i","j"],We={a:`${p}/symbols/marska.jpg`,b:`${p}/symbols/elvar.jpg`,c:`${p}/symbols/lucy.jpg`,d:`${p}/symbols/hotrod.jpg`,e:`${p}/symbols/bubblegum.jpg`,f:`${p}/symbols/burger.jpg`,g:`${p}/symbols/single.jpg`,h:`${p}/symbols/microfones.jpg`,i:`${p}/symbols/shake.jpg`,j:`${p}/symbols/fries.jpg`},me=`${p}/symbols/bg.jpg`,ge={spin:`${p}/sounds/spin.mp3`,stop:`${p}/sounds/stop.mp3`,win:`${p}/sounds/win.mp3`};let S=G(!0),W={},Z=null,F=null;function ve(){return Q[Math.floor(Math.random()*Q.length)]}function be(){const h=[];for(let u=0;u<r;u++){const v=[],D=u===2?1:s;for(let w=0;w<D;w++)v.push(ve());h.push(v)}return h}function ye(h){if(!m(S)||!W[h])return;const u=W[h];u.currentTime=0,u.play().catch(v=>{console.warn("√Ñ√§nen toisto ep√§onnistui:",h,v)})}let U=be(),ee=G(),f,B=[];class Fe{constructor(u,v){b(this,"index");b(this,"container");b(this,"offset",0);b(this,"speed",0);b(this,"targetSpeed",30);b(this,"state","idle");b(this,"stopDelay",0);b(this,"bounceOffset",0);b(this,"bounceSpeed",0);b(this,"bounceFrames",0);this.index=u,this.container=v}start(u){this.state="spinning",this.speed=0,this.targetSpeed=35,this.stopDelay=u}update(){this.state!=="idle"&&(this.state==="spinning"&&(this.speed<this.targetSpeed&&(this.speed+=2),this.stopDelay>0?this.stopDelay--:this.state="slowing"),this.state==="slowing"&&(this.speed*=.92,this.speed<2.5&&(this.state="bouncing",this.bounceSpeed=-8,this.bounceFrames=0,this.speed=0,this.offset=0,ye("stop"))),this.state==="bouncing"&&(this.bounceFrames++,this.bounceSpeed+=.8,this.bounceOffset+=this.bounceSpeed,this.bounceOffset>3&&(this.bounceOffset=3,this.bounceSpeed*=-.6),(this.bounceFrames>45||Math.abs(this.bounceSpeed)<.5&&Math.abs(this.bounceOffset)<1)&&(this.state="stopped",this.bounceOffset=0,this.bounceSpeed=0)),this.speed>0&&(this.offset+=this.speed,this.offset>=k&&(this.offset=0,U[this.index].unshift(ve()),U[this.index].pop())))}draw(){const u=this.container;u.removeChildren();const v=this.index===2?1:s,D=U[this.index];for(let w=0;w<v;w++){const te=D[w];if(!te)continue;const V=w*k+this.offset+this.bounceOffset;if(!Z)continue;const i=Z[te];if(!i)continue;const o=new Ce(i);o.width=N,o.height=P,o.x=0,o.y=V,u.addChild(o)}}}Ae(async()=>{f=new Me,await f.init({width:n,height:a,background:"#001a33"}),m(ee).appendChild(f.canvas);const h={},u=new Image;u.src=me,await new Promise((i,o)=>{u.onload=()=>{i()},u.onerror=l=>{console.error("Taustakuvan lataus ep√§onnistui:",me,l),o(l)}}),F=Te.from(u);for(const i of Q){const o=We[i],l=new Image;l.src=o,await new Promise((O,A)=>{l.onload=()=>{O()},l.onerror=Se=>{console.error("Kuvan lataus ep√§onnistui:",i,o,Se),A(Se)}}),h[i]=Te.from(l)}Z=h,console.log("Ladataan √§√§niefektit...");for(const[i,o]of Object.entries(ge)){const l=new Audio;l.src=o,l.preload="auto",l.volume=.7,l.load(),l.addEventListener("error",()=>{console.log(`√Ñ√§nitiedostoa ei l√∂ydy: ${o} (k√§ytet√§√§n hiljaista placeholderia)`)}),W[i]=l}console.log("Ladataan √§√§niefektit...");for(const[i,o]of Object.entries(ge)){const l=new Audio;l.src=o,l.preload="auto",l.volume=.7,l.load(),l.addEventListener("error",()=>{console.log(`√Ñ√§nitiedostoa ei l√∂ydy: ${o} (k√§ytet√§√§n hiljaista placeholderia)`)}),W[i]=l}if(console.log("Taustakuva ladattu, tekstuuri:",F),F){const i=new Ce(F);f.renderer.width/f.renderer.height;const o=i.texture.width/i.texture.height;let l;l=Math.min(f.renderer.width/i.texture.width,f.renderer.height/i.texture.height),l*=C,i.scale.set(l),i.x=(f.renderer.width-i.width)/2,i.y=(f.renderer.height-i.height)/2+y,f.stage.addChild(i),console.log("Taustakuva lis√§tty:",E,"mode, size:",i.width.toFixed(0),"x",i.height.toFixed(0),"image aspect:",o.toFixed(2),"scale:",l.toFixed(2),"pos:",i.x.toFixed(0),i.y.toFixed(0))}else console.error("Taustakuva ei ole saatavilla!");const v=N,D=i=>i===2?P:s*k-_,w=(i,o)=>{if(i===2){const l=(s*k-_)/2,O=P/2;return o+l-O}return o},V=[{x:70,y:120},{x:203,y:120},{x:345,y:120},{x:487,y:120},{x:620,y:120}].map(i=>({x:i.x+d,y:i.y+g}));B=[];for(let i=0;i<r;i++){const o=new pe,l=D(i);o.x=V[i].x,o.y=w(i,V[i].y);const O=new Ee().rect(0,0,v,l).fill({color:0,alpha:.3});O.x=o.x,O.y=o.y,f.stage.addChild(O);const A=new Ee().rect(0,0,v,l).fill(16777215);A.x=o.x,A.y=o.y,o.mask=A,f.stage.addChild(A),f.stage.addChild(o),B.push(new Fe(i,o))}f.ticker.add(Ue)});function Ue(){for(const h of B)h.update(),h.draw()}function Be(){U=be(),B.forEach((h,u)=>h.start(60+u*20)),ye("spin")}ke();var _e=vt(),we=q(_e);it(we,h=>T(ee,h),()=>m(ee));var R=j(we,2),Ve=Y(R,!0);X(R);var xe=j(R,2);re(xe,"style",`
    position: absolute;
    left: ${L}px;                    /* X-koordinaatti (s√§√§dett√§viss√§) */
    top: ${x}px;                     /* Y-koordinaatti (s√§√§dett√§viss√§) */
    width: 60px;                           /* Napin leveys */
    height: 60px;                          /* Napin korkeus */
    border-radius: 50%;                    /* Py√∂re√§ muoto */
    background-color: rgba(0,255,0,0.2);   /* Vihre√§, l√§pin√§kyv√§ */
    border: 2px solid rgba(0,255,0,0.5);   /* Vihre√§ reunus */
    cursor: pointer;                       /* K√§si-kursori hover:ssa */
    z-index: 1000;                         /* Varmista ett√§ nappi on p√§√§llimm√§isen√§ */
    font-size: 0;                          /* Piilota teksti */
  `),tt(()=>{re(R,"style",`
    position: absolute;
    top: 10px;
    right: 10px;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: ${(m(S)?"rgba(0,255,0,0.2)":"rgba(255,0,0,0.2)")??""};
    border: 2px solid ${(m(S)?"rgba(0,255,0,0.5)":"rgba(255,0,0,0.5)")??""};
    cursor: pointer;
    z-index: 1001;
    font-size: 20px;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
  `),re(R,"title",m(S)?"Mykist√§ √§√§net":"Laita √§√§net p√§√§lle"),Xe(Ve,m(S)?"üîä":"üîá")}),ae("click",R,()=>{T(S,!m(S))}),ae("click",xe,Be),I(t,_e),Ie()}var yt=M('<p class="error svelte-8ys286">‚ùå V√§√§r√§ salasana!</p>'),_t=M('<div class="auth-container svelte-8ys286"><div class="auth-box svelte-8ys286"><h2 class="svelte-8ys286">üé∞ Peli Access</h2> <p class="svelte-8ys286">Anna salasana p√§√§st√§ksesi peliin:</p> <form><input type="password" placeholder="Salasana..." class="password-input svelte-8ys286" autocomplete="off"> <button type="submit" class="submit-btn svelte-8ys286">Kirjaudu sis√§√§n</button></form> <!></div></div>');function wt(t,e){Re(e,!1);let r=at(e,"isAuthenticated",12,!1),s=G(""),n=G(!1);const a="slot2024";function c(){m(s)===a?(r(!0),sessionStorage.setItem("gameAuthenticated","true")):(T(n,!0),T(s,""),setTimeout(()=>T(n,!1),3e3))}Ae(()=>{r(sessionStorage.getItem("gameAuthenticated")==="true")}),ke();var d=qe(),g=q(d);{var L=x=>{var y=_t(),C=Y(y),E=j(Y(C),4),J=Y(E);nt(J),st(2),X(E);var N=j(E,2);{var P=_=>{var k=yt();I(_,k)};oe(N,_=>{m(n)&&_(P)})}X(C),X(y),ot(J,()=>m(s),_=>T(s,_)),ae("submit",E,lt(c)),I(x,y)};oe(g,x=>{r()||x(L)})}I(t,d),Ie()}var xt=M('<div style="position: fixed; top: 10px; left: 10px; z-index: 9999; color: white; font-weight: bold;">HELLO MAD CRANE üëã (oma peli k√§ynniss√§)</div> <!>',1),St=M("<!> <!>",1);function jt(t){let e=G(!1);var r=St(),s=q(r);wt(s,{get isAuthenticated(){return m(e)},set isAuthenticated(c){T(e,c)},$$legacy:!0});var n=j(s,2);{var a=c=>{var d=xt(),g=j(q(d),2);bt(g,{}),I(c,d)};oe(n,c=>{m(e)&&c(a)})}I(t,r)}export{De as A,je as C,gt as R,dt as S,He as V,jt as _,ut as u};
