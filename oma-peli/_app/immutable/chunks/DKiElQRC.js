const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./C4pXwS0c.js","./CBbKHpYJ.js","./Tq_l31Uc.js","./DnfKLrwR.js","./DaIoDKDl.js","./DTsOik4O.js","./C2GHuDhf.js","./HVTJH-Up.js","./DnNhZQP7.js","./CDqYL95M.js"])))=>i.map(i=>d[i]);
var ze=Object.defineProperty;var Ke=(t,e,r)=>e in t?ze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var b=(t,e,r)=>Ke(t,typeof e!="symbol"?e+"":e,r);import{l as Ye,t as W,s as Xe,e as oe,a as I,c as qe}from"./DnfKLrwR.js";import{i as Pe}from"./Bc1CPjOC.js";import{aq as Je,R as Qe,g as Ze,n as et,p as Re,a4 as Ae,i as m,ar as M,f as J,y as T,s as L,c as X,r as q,t as tt,a as Ie,as as st}from"./Tq_l31Uc.js";import{_ as Oe,i as le}from"./DaIoDKDl.js";import{e as pe,E as U,a as rt,C as me,d as ce,v as ue,b as re,D as de,c as Te,S as ke,s as ne,f as nt}from"./CBbKHpYJ.js";import{b as at,p as it}from"./CLm8dMku.js";import{b as f}from"./DsziZaCh.js";import{G as Ee}from"./DTsOik4O.js";function ot(t,e,r=e){var s=Je();Ye(t,"input",a=>{var o=a?t.defaultValue:t.value;if(o=ae(t)?ie(o):o,r(o),s&&o!==(o=e())){var c=t.selectionStart,d=t.selectionEnd;t.value=o??"",d!==null&&(t.selectionStart=c,t.selectionEnd=Math.min(d,t.value.length))}}),(Qe&&t.defaultValue!==t.value||Ze(e)==null&&t.value)&&r(ae(t)?ie(t.value):t.value),et(()=>{var a=e();ae(t)&&a===ie(t.value)||t.type==="date"&&!a&&!t.value||a!==t.value&&(t.value=a??"")})}function ae(t){var e=t.type;return e==="number"||e==="range"}function ie(t){return t===""?null:+t}function lt(t){return function(...e){var r=e[0];return r.preventDefault(),t==null?void 0:t.apply(this,e)}}const he=[];pe.handleByNamedList(U.Environment,he);async function ct(t){if(!t)for(let e=0;e<he.length;e++){const r=he[e];if(r.value.test()){await r.value.load();return}}}let $;function ut(){if(typeof $=="boolean")return $;try{$=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{$=!1}return $}var Le=(t=>(t[t.NONE=0]="NONE",t[t.COLOR=16384]="COLOR",t[t.STENCIL=1024]="STENCIL",t[t.DEPTH=256]="DEPTH",t[t.COLOR_DEPTH=16640]="COLOR_DEPTH",t[t.COLOR_STENCIL=17408]="COLOR_STENCIL",t[t.DEPTH_STENCIL=1280]="DEPTH_STENCIL",t[t.ALL=17664]="ALL",t))(Le||{});class dt{constructor(e){this.items=[],this._name=e}emit(e,r,s,a,o,c,d,g){const{name:j,items:x}=this;for(let y=0,k=x.length;y<k;y++)x[y][j](e,r,s,a,o,c,d,g);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&this.items.splice(r,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const ht=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],je=class De extends rt{constructor(e){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const r=[...ht,...this.config.runners??[]];this._addRunners(...r),this._unsafeEvalCheck()}async init(e={}){const r=e.skipExtensionImports===!0?!0:e.manageImports===!1;await ct(r),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const s in this._systemsHash)e={...this._systemsHash[s].constructor.defaultOptions,...e};e={...De.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let s=0;s<this.runners.init.items.length;s++)await this.runners.init.items[s].init(e);this._initOptions=e}render(e,r){let s=e;if(s instanceof me&&(s={container:s},r&&(ce(ue,"passing a second argument is deprecated, please use render options instead"),s.target=r.renderTexture)),s.target||(s.target=this.view.renderTarget),s.target===this.view.renderTarget&&(this._lastObjectRendered=s.container,s.clearColor??(s.clearColor=this.background.colorRgba),s.clear??(s.clear=this.background.clearBeforeRender)),s.clearColor){const a=Array.isArray(s.clearColor)&&s.clearColor.length===4;s.clearColor=a?s.clearColor:re.shared.setValue(s.clearColor).toArray()}s.transform||(s.container.updateLocalTransform(),s.transform=s.container.localTransform),s.container.enableRenderGroup(),this.runners.prerender.emit(s),this.runners.renderStart.emit(s),this.runners.render.emit(s),this.runners.renderEnd.emit(s),this.runners.postrender.emit(s)}resize(e,r,s){const a=this.view.resolution;this.view.resize(e,r,s),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),s!==void 0&&s!==a&&this.runners.resolutionChange.emit(s)}clear(e={}){const r=this;e.target||(e.target=r.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=Le.ALL);const{clear:s,clearColor:a,target:o}=e;re.shared.setValue(a??this.background.colorRgba),r.renderTarget.clear(o,s,re.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(r=>{this.runners[r]=new dt(r)})}_addSystems(e){let r;for(r in e){const s=e[r];this._addSystem(s.value,s.name)}}_addSystem(e,r){const s=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=s,this._systemsHash[r]=s;for(const a in this.runners)this.runners[a].add(s);return this}_addPipes(e,r){const s=r.reduce((a,o)=>(a[o.name]=o.value,a),{});e.forEach(a=>{const o=a.value,c=a.name,d=s[c];this.renderPipes[c]=new o(this,d?new d:null)})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),Object.values(this.runners).forEach(r=>{r.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!ut())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};je.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let Ne=je,K;function ft(t){return K!==void 0||(K=(()=>{var r;const e={stencil:!0,failIfMajorPerformanceCaveat:t??Ne.defaultOptions.failIfMajorPerformanceCaveat};try{if(!de.get().getWebGLRenderingContext())return!1;let a=de.get().createCanvas().getContext("webgl",e);const o=!!((r=a==null?void 0:a.getContextAttributes())!=null&&r.stencil);if(a){const c=a.getExtension("WEBGL_lose_context");c&&c.loseContext()}return a=null,o}catch{return!1}})()),K}let Y;async function pt(t={}){return Y!==void 0||(Y=await(async()=>{const e=de.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(t)).requestDevice(),!0}catch{return!1}})()),Y}const Ce=["webgl","webgpu","canvas"];async function mt(t){let e=[];t.preference?(e.push(t.preference),Ce.forEach(o=>{o!==t.preference&&e.push(o)})):e=Ce.slice();let r,s={};for(let o=0;o<e.length;o++){const c=e[o];if(c==="webgpu"&&await pt()){const{WebGPURenderer:d}=await Oe(async()=>{const{WebGPURenderer:g}=await import("./C4pXwS0c.js");return{WebGPURenderer:g}},__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url);r=d,s={...t,...t.webgpu};break}else if(c==="webgl"&&ft(t.failIfMajorPerformanceCaveat??Ne.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:d}=await Oe(async()=>{const{WebGLRenderer:g}=await import("./CDqYL95M.js");return{WebGLRenderer:g}},__vite__mapDeps([9,1,2,3,4,6,7,5]),import.meta.url);r=d,s={...t,...t.webgl};break}else if(c==="canvas")throw s={...t},new Error("CanvasRenderer is not yet implemented")}if(delete s.webgpu,delete s.webgl,!r)throw new Error("No available renderer for the current environment");const a=new r;return await a.init(s),a}const Ge="8.8.1";class He{static init(){var e;(e=globalThis.__PIXI_APP_INIT__)==null||e.call(globalThis,this,Ge)}static destroy(){}}He.extension=U.Application;class gt{constructor(e){this._renderer=e}init(){var e;(e=globalThis.__PIXI_RENDERER_INIT__)==null||e.call(globalThis,this._renderer,Ge)}destroy(){this._renderer=null}}gt.extension={type:[U.WebGLSystem,U.WebGPUSystem],name:"initHook",priority:-10};const $e=class fe{constructor(...e){this.stage=new me,e[0]!==void 0&&ce(ue,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.renderer=await mt(e),fe._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return ce(ue,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,r=!1){const s=fe._plugins.slice(0);s.reverse(),s.forEach(a=>{a.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};$e._plugins=[];let Me=$e;pe.handleByList(U.Application,Me._plugins);pe.add(He);var vt=W('<div></div> <button> </button> <button title="SPIN"></button>',1);function bt(t,e){Re(e,!1);const r=5,s=3,a=800,o=800,c=1.25,d=-10,g=60,j=370,x=600,y=-40,k=1,E="heigth",D=Math.round(100*c),C=Math.round(D*(700/760)),_=10,P=C+_,Z=["a","b","c","d","e","f","g","h","i","j"],Ue={a:`${f}/oma-peli/symbols/marska.jpg`,b:`${f}/oma-peli/symbols/elvar.jpg`,c:`${f}/oma-peli/symbols/lucy.jpg`,d:`${f}/oma-peli/symbols/hotrod.jpg`,e:`${f}/oma-peli/symbols/bubblegum.jpg`,f:`${f}/oma-peli/symbols/burger.jpg`,g:`${f}/oma-peli/symbols/single.jpg`,h:`${f}/oma-peli/symbols/microfones.jpg`,i:`${f}/oma-peli/symbols/shake.jpg`,j:`${f}/oma-peli/symbols/fries.jpg`},N=`${f}/oma-peli/symbols/bg.jpg`;console.log("üîç DEBUG - Base path:",f),console.log("üîç DEBUG - Background URL:",N),console.log("üîç DEBUG - Sample symbol URL:",`${f}/symbols/marska.jpg`);const ge={spin:`${f}/oma-peli/sounds/spin.mp3`,stop:`${f}/oma-peli/sounds/stop.mp3`,win:`${f}/oma-peli/sounds/win.mp3`};let S=M(!0),B={},ee=null,G=null;function ve(){return Z[Math.floor(Math.random()*Z.length)]}function be(){const h=[];for(let u=0;u<r;u++){const v=[],H=u===2?1:s;for(let w=0;w<H;w++)v.push(ve());h.push(v)}return h}function ye(h){if(!m(S)||!B[h])return;const u=B[h];u.currentTime=0,u.play().catch(v=>{console.warn("√Ñ√§nen toisto ep√§onnistui:",h,v)})}let F=be(),te=M(),p,V=[];class We{constructor(u,v){b(this,"index");b(this,"container");b(this,"offset",0);b(this,"speed",0);b(this,"targetSpeed",30);b(this,"state","idle");b(this,"stopDelay",0);b(this,"bounceOffset",0);b(this,"bounceSpeed",0);b(this,"bounceFrames",0);this.index=u,this.container=v}start(u){this.state="spinning",this.speed=0,this.targetSpeed=35,this.stopDelay=u}update(){this.state!=="idle"&&(this.state==="spinning"&&(this.speed<this.targetSpeed&&(this.speed+=2),this.stopDelay>0?this.stopDelay--:this.state="slowing"),this.state==="slowing"&&(this.speed*=.92,this.speed<2.5&&(this.state="bouncing",this.bounceSpeed=-8,this.bounceFrames=0,this.speed=0,this.offset=0,ye("stop"))),this.state==="bouncing"&&(this.bounceFrames++,this.bounceSpeed+=.8,this.bounceOffset+=this.bounceSpeed,this.bounceOffset>3&&(this.bounceOffset=3,this.bounceSpeed*=-.6),(this.bounceFrames>45||Math.abs(this.bounceSpeed)<.5&&Math.abs(this.bounceOffset)<1)&&(this.state="stopped",this.bounceOffset=0,this.bounceSpeed=0)),this.speed>0&&(this.offset+=this.speed,this.offset>=P&&(this.offset=0,F[this.index].unshift(ve()),F[this.index].pop())))}draw(){const u=this.container;u.removeChildren();const v=this.index===2?1:s,H=F[this.index];for(let w=0;w<v;w++){const se=H[w];if(!se)continue;const z=w*P+this.offset+this.bounceOffset;if(!ee)continue;const n=ee[se];if(!n)continue;const i=new ke(n);i.width=D,i.height=C,i.x=0,i.y=z,u.addChild(i)}}}Ae(async()=>{p=new Me,await p.init({width:a,height:o,background:"#001a33"}),m(te).appendChild(p.canvas);const h={};console.log("üñºÔ∏è Ladataan taustakuva:",N);const u=new Image;u.src=N,await new Promise((n,i)=>{u.onload=()=>{console.log("‚úÖ Taustakuva ladattu ok:",N,u.width,"x",u.height),n()},u.onerror=l=>{console.error("‚ùå Taustakuvan lataus ep√§onnistui:",N,l),i(l)}}),G=Te.from(u),console.log("Taustakuvan tekstuuri luotu:",G);for(const n of Z){const i=Ue[n];console.log("Ladataan symboli:",n,i);const l=new Image;l.src=i,await new Promise((O,A)=>{l.onload=()=>{console.log("Kuva ladattu ok:",n,i),O()},l.onerror=Se=>{console.error("Kuvan lataus ep√§onnistui:",n,i,Se),A(Se)}}),h[n]=Te.from(l),console.log("Tekstuuri luotu:",n,h[n])}ee=h,console.log("Ladataan √§√§niefektit...");for(const[n,i]of Object.entries(ge)){const l=new Audio;l.src=i,l.preload="auto",l.volume=.7,l.load(),l.addEventListener("error",()=>{console.log(`√Ñ√§nitiedostoa ei l√∂ydy: ${i} (k√§ytet√§√§n hiljaista placeholderia)`)}),B[n]=l}console.log("Ladataan √§√§niefektit...");for(const[n,i]of Object.entries(ge)){const l=new Audio;l.src=i,l.preload="auto",l.volume=.7,l.load(),l.addEventListener("error",()=>{console.log(`√Ñ√§nitiedostoa ei l√∂ydy: ${i} (k√§ytet√§√§n hiljaista placeholderia)`)}),B[n]=l}if(console.log("Taustakuva ladattu, tekstuuri:",G),G){const n=new ke(G);p.renderer.width/p.renderer.height;const i=n.texture.width/n.texture.height;let l;l=Math.min(p.renderer.width/n.texture.width,p.renderer.height/n.texture.height),l*=k,n.scale.set(l),n.x=(p.renderer.width-n.width)/2,n.y=(p.renderer.height-n.height)/2+y,p.stage.addChild(n),console.log("Taustakuva lis√§tty:",E,"mode, size:",n.width.toFixed(0),"x",n.height.toFixed(0),"image aspect:",i.toFixed(2),"scale:",l.toFixed(2),"pos:",n.x.toFixed(0),n.y.toFixed(0))}else console.error("Taustakuva ei ole saatavilla!");const v=D,H=n=>n===2?C:s*P-_,w=(n,i)=>{if(n===2){const l=(s*P-_)/2,O=C/2;return i+l-O}return i},z=[{x:70,y:120},{x:203,y:120},{x:345,y:120},{x:487,y:120},{x:620,y:120}].map(n=>({x:n.x+d,y:n.y+g}));V=[];for(let n=0;n<r;n++){const i=new me,l=H(n);i.x=z[n].x,i.y=w(n,z[n].y);const O=new Ee().rect(0,0,v,l).fill({color:0,alpha:.3});O.x=i.x,O.y=i.y,p.stage.addChild(O);const A=new Ee().rect(0,0,v,l).fill(16777215);A.x=i.x,A.y=i.y,i.mask=A,p.stage.addChild(A),p.stage.addChild(i),V.push(new We(n,i))}p.ticker.add(Be)});function Be(){for(const h of V)h.update(),h.draw()}function Fe(){F=be(),V.forEach((h,u)=>h.start(60+u*20)),ye("spin")}Pe();var _e=vt(),we=J(_e);at(we,h=>T(te,h),()=>m(te));var R=L(we,2),Ve=X(R,!0);q(R);var xe=L(R,2);ne(xe,"style",`
    position: absolute;
    left: ${j}px;                    /* X-koordinaatti (s√§√§dett√§viss√§) */
    top: ${x}px;                     /* Y-koordinaatti (s√§√§dett√§viss√§) */
    width: 60px;                           /* Napin leveys */
    height: 60px;                          /* Napin korkeus */
    border-radius: 50%;                    /* Py√∂re√§ muoto */
    background-color: rgba(0,255,0,0.2);   /* Vihre√§, l√§pin√§kyv√§ */
    border: 2px solid rgba(0,255,0,0.5);   /* Vihre√§ reunus */
    cursor: pointer;                       /* K√§si-kursori hover:ssa */
    z-index: 1000;                         /* Varmista ett√§ nappi on p√§√§llimm√§isen√§ */
    font-size: 0;                          /* Piilota teksti */
  `),tt(()=>{ne(R,"style",`
    position: absolute;
    top: 10px;
    right: 10px;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: ${(m(S)?"rgba(0,255,0,0.2)":"rgba(255,0,0,0.2)")??""};
    border: 2px solid ${(m(S)?"rgba(0,255,0,0.5)":"rgba(255,0,0,0.5)")??""};
    cursor: pointer;
    z-index: 1001;
    font-size: 20px;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
  `),ne(R,"title",m(S)?"Mykist√§ √§√§net":"Laita √§√§net p√§√§lle"),Xe(Ve,m(S)?"üîä":"üîá")}),oe("click",R,()=>{T(S,!m(S))}),oe("click",xe,Fe),I(t,_e),Ie()}var yt=W('<p class="error svelte-8ys286">‚ùå V√§√§r√§ salasana!</p>'),_t=W('<div class="auth-container svelte-8ys286"><div class="auth-box svelte-8ys286"><h2 class="svelte-8ys286">üé∞ Peli Access</h2> <p class="svelte-8ys286">Anna salasana p√§√§st√§ksesi peliin:</p> <form><input type="password" placeholder="Salasana..." class="password-input svelte-8ys286" autocomplete="off"> <button type="submit" class="submit-btn svelte-8ys286">Kirjaudu sis√§√§n</button></form> <!></div></div>');function wt(t,e){Re(e,!1);let r=it(e,"isAuthenticated",12,!1),s=M(""),a=M(!1);const o="slot2024";function c(){m(s)===o?(r(!0),sessionStorage.setItem("gameAuthenticated","true")):(T(a,!0),T(s,""),setTimeout(()=>T(a,!1),3e3))}Ae(()=>{r(sessionStorage.getItem("gameAuthenticated")==="true")}),Pe();var d=qe(),g=J(d);{var j=x=>{var y=_t(),k=X(y),E=L(X(k),4),Q=X(E);nt(Q),st(2),q(E);var D=L(E,2);{var C=_=>{var P=yt();I(_,P)};le(D,_=>{m(a)&&_(C)})}q(k),q(y),ot(Q,()=>m(s),_=>T(s,_)),oe("submit",E,lt(c)),I(x,y)};le(g,x=>{r()||x(j)})}I(t,d),Ie()}var xt=W('<div style="position: fixed; top: 10px; left: 10px; z-index: 9999; color: white; font-weight: bold;">HELLO MAD CRANE üëã (oma peli k√§ynniss√§)</div> <!>',1),St=W("<!> <!>",1);function Lt(t){let e=M(!1);var r=St(),s=J(r);wt(s,{get isAuthenticated(){return m(e)},set isAuthenticated(c){T(e,c)},$$legacy:!0});var a=L(s,2);{var o=c=>{var d=xt(),g=L(J(d),2);bt(g,{}),I(c,d)};le(a,c=>{m(e)&&c(o)})}I(t,r)}export{Ne as A,Le as C,gt as R,dt as S,Ge as V,Lt as _,ut as u};
