import{K as U,L as $,D as A,M as x,S as Y,N as y,O as C,P as G,Q as V,R as Z,I as T,F as c,T as m,U as w,V as z,W as F,X as K,Y as Q,Z as W,_ as X,$ as j}from"./BNUQzlCW.js";import{p as H}from"./BAnQoRS2.js";function q(r,e){return r===e||(r==null?void 0:r[Y])===e}function p(r={},e,s,l){return U(()=>{var n,i;return $(()=>{n=i,i=[],A(()=>{r!==s(...i)&&(e(r,...i),n&&q(s(...n),r)&&e(null,...n))})}),()=>{x(()=>{i&&q(s(...i),r)&&e(null,...i)})}}),r}let P=!1;function J(r){var e=P;try{return P=!1,[r(),P]}finally{P=e}}function rr(r,e,s,l){var D;var n=(s&j)!==0,i=!F||(s&K)!==0,S=(s&Q)!==0,B=(s&X)!==0,L=!1,t;S?[t,L]=J(()=>r[e]):t=r[e];var M=Y in r||z in r,v=S&&(((D=y(r,e))==null?void 0:D.set)??(M&&e in r&&(a=>r[e]=a)))||void 0,f=l,I=!0,R=!1,b=()=>(R=!0,I&&(I=!1,B?f=A(l):f=l),f);t===void 0&&l!==void 0&&(v&&i&&C(),t=b(),v&&v(t));var u;if(i)u=()=>{var a=r[e];return a===void 0?b():(I=!0,R=!1,a)};else{var h=(n?T:V)(()=>r[e]);h.f|=G,u=()=>{var a=c(h);return a!==void 0&&(f=void 0),a===void 0?f:a}}if((s&W)===0)return u;if(v){var N=r.$$legacy;return function(a,_){return arguments.length>0?((!i||!_||N||L)&&v(_?u():a),a):u()}}var E=!1,O=w(t),d=T(()=>{var a=u(),_=c(O);return E?(E=!1,_):O.v=a});return n||(d.equals=Z),function(a,_){if(arguments.length>0){const g=_?c(d):i&&S?H(a):a;return d.equals(g)||(E=!0,m(O,g),R&&f!==void 0&&(f=g),A(()=>c(d))),a}return c(d)}}export{p as b,rr as p};
