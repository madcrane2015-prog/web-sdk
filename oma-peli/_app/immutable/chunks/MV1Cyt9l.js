const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./qVs2qdV1.js","./B7gLiaUs.js","./D4veT0_t.js","./Bdypz-Py.js","./gbtnVl_E.js","./C2GHuDhf.js","./DGIuuGS5.js","./DnW5od1x.js"])))=>i.map(i=>d[i]);
var pa=Object.defineProperty;var ga=(t,e,s)=>e in t?pa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Y=(t,e,s)=>ga(t,typeof e!="symbol"?e+"":e,s);import{f as ma,l as va,t as z,g as ie,a as j,d as vs}from"./BtKSVX8E.js";import{i as ba}from"./TBKEe2SZ.js";import{h as bt,y as J,g as ya,v as _a,j as xa,a8 as Aa,F as v,Q as wa,aa as Ea,ab as ss,e as yt,k as ze,l as ka,ac as bs,w as ys,ad as Oa,aq as _s,q as xs,a7 as La,U as Sa,a2 as as,ar as _t,M as Ta,z as rs,as as Rt,at as Ia,au as Ct,av as ns,aw as Pa,o as Ra,ax as Ca,ay as Ba,az as Fa,b as Ma,aA as $a,aB as ja,a6 as Wa,aC as Ua,aD as Da,D as Na,L as za,p as As,ah as ne,ag as ws,T as I,f as Ye,s as x,c as k,r as w,t as Z,a as Es,aE as qa,aF as St}from"./Bdypz-Py.js";import{_ as is,p as Se,i as oe}from"./D4veT0_t.js";import{s as D}from"./g6Tp4dKo.js";import{b as Ha,p as Va}from"./CdLDqEcu.js";import{b as qe}from"./DC0sszrE.js";import{e as pe,E as O,a as Ga,C as Bt,Q as st,V as at,N as xt,D as H,H as Xa,p as _e,a0 as Ce,a1 as xe,a2 as Ya,w as fe,a3 as Xe,a4 as ks,a5 as Be,a6 as le,a7 as rt,a8 as Os,a9 as Ka,aa as At,ab as Qa,ac as Za,y as Je}from"./B7gLiaUs.js";import{A as Ja,B as os,G as er,T as Ls,a as tr,b as wt}from"./gbtnVl_E.js";function He(t,e){return e}function sr(t,e,s,a){for(var r=[],n=e.length,i=0;i<n;i++)Pa(e[i].e,r,!0);var o=n>0&&r.length===0&&s!==null;if(o){var h=s.parentNode;Ra(h),h.append(s),a.clear(),ue(t,e[0].prev,e[n-1].next)}Ca(r,()=>{for(var c=0;c<n;c++){var d=e[c];o||(a.delete(d.k),ue(t,d.prev,d.next)),Ba(d.e,!o)}})}function Ve(t,e,s,a,r,n=null){var i=t,o={flags:e,items:new Map,first:null},h=(e&_s)!==0;if(h){var c=t;i=J?bt(ya(c)):c.appendChild(_a())}J&&xa();var d=null,f=!1,u=wa(()=>{var _=s();return La(_)?_:_==null?[]:xs(_)});Aa(()=>{var _=v(u),b=_.length;if(f&&b===0)return;f=b===0;let W=!1;if(J){var C=i.data===Ea;C!==(b===0)&&(i=ss(),bt(i),yt(!1),W=!0)}if(J){for(var T=null,F,P=0;P<b;P++){if(ze.nodeType===8&&ze.data===ka){i=ze,W=!0,yt(!1);break}var A=_[P],S=a(A,P);F=Ss(ze,o,T,null,A,S,P,r,e,s),o.items.set(S,F),T=F}b>0&&bt(ss())}J||ar(_,o,i,r,e,a,s),n!==null&&(b===0?d?bs(d):d=ys(()=>n(i)):d!==null&&Oa(d,()=>{d=null})),W&&yt(!0),v(u)}),J&&(i=ze)}function ar(t,e,s,a,r,n,i){var Me,K,me,ve;var o=(r&Ia)!==0,h=(r&(Ct|Rt))!==0,c=t.length,d=e.items,f=e.first,u=f,_,b=null,W,C=[],T=[],F,P,A,S;if(o)for(S=0;S<c;S+=1)F=t[S],P=n(F,S),A=d.get(P),A!==void 0&&((Me=A.a)==null||Me.measure(),(W??(W=new Set)).add(A));for(S=0;S<c;S+=1){if(F=t[S],P=n(F,S),A=d.get(P),A===void 0){var nt=u?u.e.nodes_start:s;b=Ss(nt,e,b,b===null?e.first:b.next,F,P,S,a,r,i),d.set(P,b),C=[],T=[],u=b.next;continue}if(h&&rr(A,F,S,r),(A.e.f&_t)!==0&&(bs(A.e),o&&((K=A.a)==null||K.unfix(),(W??(W=new Set)).delete(A))),A!==u){if(_!==void 0&&_.has(A)){if(C.length<T.length){var ee=T[0],te;b=ee.prev;var M=C[0],ge=C[C.length-1];for(te=0;te<C.length;te+=1)ls(C[te],ee,s);for(te=0;te<T.length;te+=1)_.delete(T[te]);ue(e,M.prev,ge.next),ue(e,b,M),ue(e,ge,ee),u=ee,b=ge,S-=1,C=[],T=[]}else _.delete(A),ls(A,u,s),ue(e,A.prev,A.next),ue(e,A,b===null?e.first:b.next),ue(e,b,A),b=A;continue}for(C=[],T=[];u!==null&&u.k!==P;)(u.e.f&_t)===0&&(_??(_=new Set)).add(u),T.push(u),u=u.next;if(u===null)continue;A=u}C.push(A),b=A,u=A.next}if(u!==null||_!==void 0){for(var se=_===void 0?[]:xs(_);u!==null;)(u.e.f&_t)===0&&se.push(u),u=u.next;var Ae=se.length;if(Ae>0){var Ke=(r&_s)!==0&&c===0?s:null;if(o){for(S=0;S<Ae;S+=1)(me=se[S].a)==null||me.measure();for(S=0;S<Ae;S+=1)(ve=se[S].a)==null||ve.fix()}sr(e,se,Ke,d)}}o&&Ta(()=>{var ae;if(W!==void 0)for(A of W)(ae=A.a)==null||ae.apply()}),rs.first=e.first&&e.first.e,rs.last=b&&b.e}function rr(t,e,s,a){(a&Ct)!==0&&ns(t.v,e),(a&Rt)!==0?ns(t.i,s):t.i=s}function Ss(t,e,s,a,r,n,i,o,h,c){var d=(h&Ct)!==0,f=(h&Fa)===0,u=d?f?Sa(r):as(r):r,_=(h&Rt)===0?i:as(i),b={i:_,v:u,k:n,a:null,e:null,prev:s,next:a};try{return b.e=ys(()=>o(t,u,_,c),J),b.e.prev=s&&s.e,b.e.next=a&&a.e,s===null?e.first=b:(s.next=b,s.e.next=b.e),a!==null&&(a.prev=b,a.e.prev=b.e),b}finally{}}function ls(t,e,s){for(var a=t.next?t.next.e.nodes_start:s,r=e?e.e.nodes_start:s,n=t.e.nodes_start;n!==a;){var i=Ma(n);r.before(n),n=i}}function ue(t,e,s){e===null?t.first=s:(e.next=s,e.e.next=s&&s.e),s!==null&&(s.prev=e,s.e.prev=e&&e.e)}function nr(t){if(J){var e=!1,s=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var a=t.value;Te(t,"value",null),t.value=a}if(t.hasAttribute("checked")){var r=t.checked;Te(t,"checked",null),t.checked=r}}};t.__on_r=s,$a(s),ma()}}function Te(t,e,s,a){var r=t.__attributes??(t.__attributes={});J&&(r[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||r[e]!==(r[e]=s)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[ja]=s),s==null?t.removeAttribute(e):typeof s!="string"&&ir(t).includes(e)?t[e]=s:t.setAttribute(e,s))}var cs=new Map;function ir(t){var e=cs.get(t.nodeName);if(e)return e;cs.set(t.nodeName,e=[]);for(var s,a=t,r=Element.prototype;r!==a;){s=Ua(a);for(var n in s)s[n].set&&e.push(n);a=Wa(a)}return e}function or(t,e,s=e){var a=Da();va(t,"input",r=>{var n=r?t.defaultValue:t.value;if(n=Et(t)?kt(n):n,s(n),a&&n!==(n=e())){var i=t.selectionStart,o=t.selectionEnd;t.value=n??"",o!==null&&(t.selectionStart=i,t.selectionEnd=Math.min(o,t.value.length))}}),(J&&t.defaultValue!==t.value||Na(e)==null&&t.value)&&s(Et(t)?kt(t.value):t.value),za(()=>{var r=e();Et(t)&&r===kt(t.value)||t.type==="date"&&!r&&!t.value||r!==t.value&&(t.value=r??"")})}function Et(t){var e=t.type;return e==="number"||e==="range"}function kt(t){return t===""?null:+t}function lr(t){return function(...e){var s=e[0];return s.preventDefault(),t==null?void 0:t.apply(this,e)}}const Tt=[];pe.handleByNamedList(O.Environment,Tt);async function cr(t){if(!t)for(let e=0;e<Tt.length;e++){const s=Tt[e];if(s.value.test()){await s.value.load();return}}}let Ge;function dr(){if(typeof Ge=="boolean")return Ge;try{Ge=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Ge=!1}return Ge}var Ts=(t=>(t[t.NONE=0]="NONE",t[t.COLOR=16384]="COLOR",t[t.STENCIL=1024]="STENCIL",t[t.DEPTH=256]="DEPTH",t[t.COLOR_DEPTH=16640]="COLOR_DEPTH",t[t.COLOR_STENCIL=17408]="COLOR_STENCIL",t[t.DEPTH_STENCIL=1280]="DEPTH_STENCIL",t[t.ALL=17664]="ALL",t))(Ts||{});class hr{constructor(e){this.items=[],this._name=e}emit(e,s,a,r,n,i,o,h){const{name:c,items:d}=this;for(let f=0,u=d.length;f<u;f++)d[f][c](e,s,a,r,n,i,o,h);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const s=this.items.indexOf(e);return s!==-1&&this.items.splice(s,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const ur=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],Is=class Ps extends Ga{constructor(e){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const s=[...ur,...this.config.runners??[]];this._addRunners(...s),this._unsafeEvalCheck()}async init(e={}){const s=e.skipExtensionImports===!0?!0:e.manageImports===!1;await cr(s),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const a in this._systemsHash)e={...this._systemsHash[a].constructor.defaultOptions,...e};e={...Ps.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let a=0;a<this.runners.init.items.length;a++)await this.runners.init.items[a].init(e);this._initOptions=e}render(e,s){let a=e;if(a instanceof Bt&&(a={container:a},s&&(st(at,"passing a second argument is deprecated, please use render options instead"),a.target=s.renderTexture)),a.target||(a.target=this.view.renderTarget),a.target===this.view.renderTarget&&(this._lastObjectRendered=a.container,a.clearColor??(a.clearColor=this.background.colorRgba),a.clear??(a.clear=this.background.clearBeforeRender)),a.clearColor){const r=Array.isArray(a.clearColor)&&a.clearColor.length===4;a.clearColor=r?a.clearColor:xt.shared.setValue(a.clearColor).toArray()}a.transform||(a.container.updateLocalTransform(),a.transform=a.container.localTransform),a.container.enableRenderGroup(),this.runners.prerender.emit(a),this.runners.renderStart.emit(a),this.runners.render.emit(a),this.runners.renderEnd.emit(a),this.runners.postrender.emit(a)}resize(e,s,a){const r=this.view.resolution;this.view.resize(e,s,a),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),a!==void 0&&a!==r&&this.runners.resolutionChange.emit(a)}clear(e={}){const s=this;e.target||(e.target=s.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=Ts.ALL);const{clear:a,clearColor:r,target:n}=e;xt.shared.setValue(r??this.background.colorRgba),s.renderTarget.clear(n,a,xt.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(s=>{this.runners[s]=new hr(s)})}_addSystems(e){let s;for(s in e){const a=e[s];this._addSystem(a.value,a.name)}}_addSystem(e,s){const a=new e(this);if(this[s])throw new Error(`Whoops! The name "${s}" is already in use`);this[s]=a,this._systemsHash[s]=a;for(const r in this.runners)this.runners[r].add(a);return this}_addPipes(e,s){const a=s.reduce((r,n)=>(r[n.name]=n.value,r),{});e.forEach(r=>{const n=r.value,i=r.name,o=a[i];this.renderPipes[i]=new n(this,o?new o:null)})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),Object.values(this.runners).forEach(s=>{s.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!dr())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};Is.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let Rs=Is,et;function fr(t){return et!==void 0||(et=(()=>{var s;const e={stencil:!0,failIfMajorPerformanceCaveat:t??Rs.defaultOptions.failIfMajorPerformanceCaveat};try{if(!H.get().getWebGLRenderingContext())return!1;let r=H.get().createCanvas().getContext("webgl",e);const n=!!((s=r==null?void 0:r.getContextAttributes())!=null&&s.stencil);if(r){const i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch{return!1}})()),et}let tt;async function pr(t={}){return tt!==void 0||(tt=await(async()=>{const e=H.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(t)).requestDevice(),!0}catch{return!1}})()),tt}const ds=["webgl","webgpu","canvas"];async function gr(t){let e=[];t.preference?(e.push(t.preference),ds.forEach(n=>{n!==t.preference&&e.push(n)})):e=ds.slice();let s,a={};for(let n=0;n<e.length;n++){const i=e[n];if(i==="webgpu"&&await pr()){const{WebGPURenderer:o}=await is(async()=>{const{WebGPURenderer:h}=await import("./qVs2qdV1.js");return{WebGPURenderer:h}},__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url);s=o,a={...t,...t.webgpu};break}else if(i==="webgl"&&fr(t.failIfMajorPerformanceCaveat??Rs.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:o}=await is(async()=>{const{WebGLRenderer:h}=await import("./DnW5od1x.js");return{WebGLRenderer:h}},__vite__mapDeps([7,1,2,3,5,6,4]),import.meta.url);s=o,a={...t,...t.webgl};break}else if(i==="canvas")throw a={...t},new Error("CanvasRenderer is not yet implemented")}if(delete a.webgpu,delete a.webgl,!s)throw new Error("No available renderer for the current environment");const r=new s;return await r.init(a),r}const Cs="8.8.1";class Bs{static init(){var e;(e=globalThis.__PIXI_APP_INIT__)==null||e.call(globalThis,this,Cs)}static destroy(){}}Bs.extension=O.Application;class mr{constructor(e){this._renderer=e}init(){var e;(e=globalThis.__PIXI_RENDERER_INIT__)==null||e.call(globalThis,this._renderer,Cs)}destroy(){this._renderer=null}}mr.extension={type:[O.WebGLSystem,O.WebGPUSystem],name:"initHook",priority:-10};const Fs=class It{constructor(...e){this.stage=new Bt,e[0]!==void 0&&st(at,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.renderer=await gr(e),It._plugins.forEach(s=>{s.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return st(at,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,s=!1){const a=It._plugins.slice(0);a.reverse(),a.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(s),this.stage=null,this.renderer.destroy(e),this.renderer=null}};Fs._plugins=[];let Ms=Fs;pe.handleByList(O.Application,Ms._plugins);pe.add(Bs);class $s extends Ja{constructor(e,s){super();const{textures:a,data:r}=e;Object.keys(r.pages).forEach(n=>{const i=r.pages[parseInt(n,10)],o=a[i.id];this.pages.push({texture:o})}),Object.keys(r.chars).forEach(n=>{const i=r.chars[n],{frame:o,source:h}=a[i.page],c=new Xa(i.x+o.x,i.y+o.y,i.width,i.height),d=new _e({source:h,frame:c});this.chars[n]={id:n.codePointAt(0),xOffset:i.xOffset,yOffset:i.yOffset,xAdvance:i.xAdvance,kerning:i.kerning??{},texture:d}}),this.baseRenderedFontSize=r.fontSize,this.baseMeasurementFontSize=r.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:r.fontSize},this.baseLineOffset=r.baseLineOffset,this.lineHeight=r.lineHeight,this.fontFamily=r.fontFamily,this.distanceField=r.distanceField??{type:"none",range:0},this.url=s}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{texture:s}=this.pages[e];s.destroy(!0)}this.pages=null}static install(e){os.install(e)}static uninstall(e){os.uninstall(e)}}const Ot={test(t){return typeof t=="string"&&t.startsWith("info face=")},parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),s={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const f in e){const u=e[f].match(/^[a-z]+/gm)[0],_=e[f].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),b={};for(const W in _){const C=_[W].split("="),T=C[0],F=C[1].replace(/"/gm,""),P=parseFloat(F),A=isNaN(P)?F:P;b[T]=A}s[u].push(b)}const a={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[r]=s.info,[n]=s.common,[i]=s.distanceField??[];i&&(a.distanceField={range:parseInt(i.distanceRange,10),type:i.fieldType}),a.fontSize=parseInt(r.size,10),a.fontFamily=r.face,a.lineHeight=parseInt(n.lineHeight,10);const o=s.page;for(let f=0;f<o.length;f++)a.pages.push({id:parseInt(o[f].id,10)||0,file:o[f].file});const h={};a.baseLineOffset=a.lineHeight-parseInt(n.base,10);const c=s.char;for(let f=0;f<c.length;f++){const u=c[f],_=parseInt(u.id,10);let b=u.letter??u.char??String.fromCharCode(_);b==="space"&&(b=" "),h[_]=b,a.chars[b]={id:_,page:parseInt(u.page,10)||0,x:parseInt(u.x,10),y:parseInt(u.y,10),width:parseInt(u.width,10),height:parseInt(u.height,10),xOffset:parseInt(u.xoffset,10),yOffset:parseInt(u.yoffset,10),xAdvance:parseInt(u.xadvance,10),kerning:{}}}const d=s.kerning||[];for(let f=0;f<d.length;f++){const u=parseInt(d[f].first,10),_=parseInt(d[f].second,10),b=parseInt(d[f].amount,10);a.chars[h[_]].kerning[h[u]]=b}return a}},hs={test(t){const e=t;return typeof e!="string"&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(t){const e={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},s=t.getElementsByTagName("info")[0],a=t.getElementsByTagName("common")[0],r=t.getElementsByTagName("distanceField")[0];r&&(e.distanceField={type:r.getAttribute("fieldType"),range:parseInt(r.getAttribute("distanceRange"),10)});const n=t.getElementsByTagName("page"),i=t.getElementsByTagName("char"),o=t.getElementsByTagName("kerning");e.fontSize=parseInt(s.getAttribute("size"),10),e.fontFamily=s.getAttribute("face"),e.lineHeight=parseInt(a.getAttribute("lineHeight"),10);for(let c=0;c<n.length;c++)e.pages.push({id:parseInt(n[c].getAttribute("id"),10)||0,file:n[c].getAttribute("file")});const h={};e.baseLineOffset=e.lineHeight-parseInt(a.getAttribute("base"),10);for(let c=0;c<i.length;c++){const d=i[c],f=parseInt(d.getAttribute("id"),10);let u=d.getAttribute("letter")??d.getAttribute("char")??String.fromCharCode(f);u==="space"&&(u=" "),h[f]=u,e.chars[u]={id:f,page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xOffset:parseInt(d.getAttribute("xoffset"),10),yOffset:parseInt(d.getAttribute("yoffset"),10),xAdvance:parseInt(d.getAttribute("xadvance"),10),kerning:{}}}for(let c=0;c<o.length;c++){const d=parseInt(o[c].getAttribute("first"),10),f=parseInt(o[c].getAttribute("second"),10),u=parseInt(o[c].getAttribute("amount"),10);e.chars[h[f]].kerning[h[d]]=u}return e}},us={test(t){return typeof t=="string"&&t.includes("<font>")?hs.test(H.get().parseXML(t)):!1},parse(t){return hs.parse(H.get().parseXML(t))}},vr=[".xml",".fnt"],br={extension:{type:O.CacheParser,name:"cacheBitmapFont"},test:t=>t instanceof $s,getCacheableAssets(t,e){const s={};return t.forEach(a=>{s[a]=e,s[`${a}-bitmap`]=e}),s[`${e.fontFamily}-bitmap`]=e,s}},yr={extension:{type:O.LoadParser,priority:Ce.Normal},name:"loadBitmapFont",test(t){return vr.includes(xe.extname(t).toLowerCase())},async testParse(t){return Ot.test(t)||us.test(t)},async parse(t,e,s){const a=Ot.test(t)?Ot.parse(t):us.parse(t),{src:r}=e,{pages:n}=a,i=[],o=a.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let f=0;f<n.length;++f){const u=n[f].file;let _=xe.join(xe.dirname(r),u);_=Ya(_,r),i.push({src:_,data:o})}const h=await s.load(i),c=i.map(f=>h[f.src]);return new $s({data:a,textures:c},r)},async load(t,e){return await(await H.get().fetch(t)).text()},async unload(t,e,s){await Promise.all(t.pages.map(a=>s.unload(a.texture.source._sourceOrigin))),t.destroy()}};class _r{constructor(e,s=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=s}add(e){e.forEach(s=>{this._assetList.push(s)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],s=Math.min(this._assetList.length,this._maxConcurrent);for(let a=0;a<s;a++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}const xr={extension:{type:O.CacheParser,name:"cacheTextureArray"},test:t=>Array.isArray(t)&&t.every(e=>e instanceof _e),getCacheableAssets:(t,e)=>{const s={};return t.forEach(a=>{e.forEach((r,n)=>{s[a+(n===0?"":n+1)]=r})}),s}};async function js(t){if("Image"in globalThis)return new Promise(e=>{const s=new Image;s.onload=()=>{e(!0)},s.onerror=()=>{e(!1)},s.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const Ar={extension:{type:O.DetectionParser,priority:1},test:async()=>js("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")},fs=["png","jpg","jpeg"],wr={extension:{type:O.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...fs],remove:async t=>t.filter(e=>!fs.includes(e))},Er="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Ft(t){return Er?!1:document.createElement("video").canPlayType(t)!==""}const kr={extension:{type:O.DetectionParser,priority:0},test:async()=>Ft("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")},Or={extension:{type:O.DetectionParser,priority:0},test:async()=>Ft("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")},Lr={extension:{type:O.DetectionParser,priority:0},test:async()=>Ft("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")},Sr={extension:{type:O.DetectionParser,priority:0},test:async()=>js("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};class Tr{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,s,a)=>(this._parsersValidated=!1,e[s]=a,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,s){const a={promise:null,parser:null};return a.promise=(async()=>{var i,o;let r=null,n=null;if(s.loadParser&&(n=this._parserHash[s.loadParser],n||fe(`[Assets] specified load parser "${s.loadParser}" not found while loading ${e}`)),!n){for(let h=0;h<this.parsers.length;h++){const c=this.parsers[h];if(c.load&&((i=c.test)!=null&&i.call(c,e,s,this))){n=c;break}}if(!n)return fe(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}r=await n.load(e,s,this),a.parser=n;for(let h=0;h<this.parsers.length;h++){const c=this.parsers[h];c.parse&&c.parse&&await((o=c.testParse)==null?void 0:o.call(c,r,s,this))&&(r=await c.parse(r,s,this)||r,a.parser=c)}return r})(),a}async load(e,s){this._parsersValidated||this._validateParsers();let a=0;const r={},n=ks(e),i=Xe(e,c=>({alias:[c],src:c,data:{}})),o=i.length,h=i.map(async c=>{const d=xe.toAbsolute(c.src);if(!r[c.src])try{this.promiseCache[d]||(this.promiseCache[d]=this._getLoadPromiseAndParser(d,c)),r[c.src]=await this.promiseCache[d].promise,s&&s(++a/o)}catch(f){throw delete this.promiseCache[d],delete r[c.src],new Error(`[Loader.load] Failed to load ${d}.
${f}`)}});return await Promise.all(h),n?r[i[0].src]:r}async unload(e){const a=Xe(e,r=>({alias:[r],src:r})).map(async r=>{var o,h;const n=xe.toAbsolute(r.src),i=this.promiseCache[n];if(i){const c=await i.promise;delete this.promiseCache[n],await((h=(o=i.parser)==null?void 0:o.unload)==null?void 0:h.call(o,c,r,this))}});await Promise.all(a)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,s)=>(s.name?e[s.name]&&fe(`[Assets] loadParser name conflict "${s.name}"`):fe("[Assets] loadParser should have a name"),{...e,[s.name]:s}),{})}}function Fe(t,e){if(Array.isArray(e)){for(const s of e)if(t.startsWith(`data:${s}`))return!0;return!1}return t.startsWith(`data:${e}`)}const Ir=".json",Pr="application/json",Rr={extension:{type:O.LoadParser,priority:Ce.Low},name:"loadJson",test(t){return Fe(t,Pr)||Be(t,Ir)},async load(t){return await(await H.get().fetch(t)).json()}},Cr=".txt",Br="text/plain",Fr={name:"loadTxt",extension:{type:O.LoadParser,priority:Ce.Low,name:"loadTxt"},test(t){return Fe(t,Br)||Be(t,Cr)},async load(t){return await(await H.get().fetch(t)).text()}},Mr=["normal","bold","100","200","300","400","500","600","700","800","900"],$r=[".ttf",".otf",".woff",".woff2"],jr=["font/ttf","font/otf","font/woff","font/woff2"],Wr=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function Ur(t){const e=xe.extname(t),r=xe.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1));let n=r.length>0;for(const o of r)if(!o.match(Wr)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const Dr=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function Nr(t){return Dr.test(t)?t:encodeURI(t)}const zr={extension:{type:O.LoadParser,priority:Ce.Low},name:"loadWebFont",test(t){return Fe(t,jr)||Be(t,$r)},async load(t,e){var a,r,n;const s=H.get().getFontFaceSet();if(s){const i=[],o=((a=e.data)==null?void 0:a.family)??Ur(t),h=((n=(r=e.data)==null?void 0:r.weights)==null?void 0:n.filter(d=>Mr.includes(d)))??["normal"],c=e.data??{};for(let d=0;d<h.length;d++){const f=h[d],u=new FontFace(o,`url(${Nr(t)})`,{...c,weight:f});await u.load(),s.add(u),i.push(u)}return le.set(`${o}-and-url`,{url:t,fontFaces:i}),i.length===1?i[0]:i}return fe("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>{le.remove(`${e.family}-and-url`),H.get().getFontFaceSet().delete(e)})}};function Mt(t,e=1){var a;const s=(a=rt.RETINA_PREFIX)==null?void 0:a.exec(t);return s?parseFloat(s[1]):e}function $t(t,e,s){t.label=s,t._sourceOrigin=s;const a=new _e({source:t,label:s}),r=()=>{delete e.promiseCache[s],le.has(s)&&le.remove(s)};return a.source.once("destroy",()=>{e.promiseCache[s]&&(fe("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),r())}),a.once("destroy",()=>{t.destroyed||(fe("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),r())}),a}const qr=".svg",Hr="image/svg+xml",Vr={extension:{type:O.LoadParser,priority:Ce.Low,name:"loadSVG"},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(t){return Fe(t,Hr)||Be(t,qr)},async load(t,e,s){var a;return((a=e.data)==null?void 0:a.parseAsGraphicsContext)??this.config.parseAsGraphicsContext?Xr(t):Gr(t,e,s,this.config.crossOrigin)},unload(t){t.destroy(!0)}};async function Gr(t,e,s,a){var C,T,F;const n=await(await H.get().fetch(t)).blob(),i=URL.createObjectURL(n),o=new Image;o.src=i,o.crossOrigin=a,await o.decode(),URL.revokeObjectURL(i);const h=document.createElement("canvas"),c=h.getContext("2d"),d=((C=e.data)==null?void 0:C.resolution)||Mt(t),f=((T=e.data)==null?void 0:T.width)??o.width,u=((F=e.data)==null?void 0:F.height)??o.height;h.width=f*d,h.height=u*d,c.drawImage(o,0,0,f*d,u*d);const{parseAsGraphicsContext:_,...b}=e.data??{},W=new Os({resource:h,alphaMode:"premultiply-alpha-on-upload",resolution:d,...b});return $t(W,s,t)}async function Xr(t){const s=await(await H.get().fetch(t)).text(),a=new er;return a.svg(s),a}const Yr=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let Pe=null,Pt=class{constructor(){Pe||(Pe=URL.createObjectURL(new Blob([Yr],{type:"application/javascript"}))),this.worker=new Worker(Pe)}};Pt.revokeObjectURL=function(){Pe&&(URL.revokeObjectURL(Pe),Pe=null)};const Kr=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Re=null;class Ws{constructor(){Re||(Re=URL.createObjectURL(new Blob([Kr],{type:"application/javascript"}))),this.worker=new Worker(Re)}}Ws.revokeObjectURL=function(){Re&&(URL.revokeObjectURL(Re),Re=null)};let ps=0,Lt;class Qr{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:s}=new Pt;s.addEventListener("message",a=>{s.terminate(),Pt.revokeObjectURL(),e(a.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e,s){var a;return this._run("loadImageBitmap",[e,(a=s==null?void 0:s.data)==null?void 0:a.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){Lt===void 0&&(Lt=navigator.hardwareConcurrency||4);let e=this._workerPool.pop();return!e&&this._createdWorkers<Lt&&(this._createdWorkers++,e=new Ws().worker,e.addEventListener("message",s=>{this._complete(s.data),this._returnWorker(s.target),this._next()})),e}_returnWorker(e){this._workerPool.push(e)}_complete(e){e.error!==void 0?this._resolveHash[e.uuid].reject(e.error):this._resolveHash[e.uuid].resolve(e.data),this._resolveHash[e.uuid]=null}async _run(e,s){await this._initWorkers();const a=new Promise((r,n)=>{this._queue.push({id:e,arguments:s,resolve:r,reject:n})});return this._next(),a}_next(){if(!this._queue.length)return;const e=this._getWorker();if(!e)return;const s=this._queue.pop(),a=s.id;this._resolveHash[ps]={resolve:s.resolve,reject:s.reject},e.postMessage({data:s.arguments,uuid:ps++,id:a})}}const gs=new Qr,Zr=[".jpeg",".jpg",".png",".webp",".avif"],Jr=["image/jpeg","image/png","image/webp","image/avif"];async function en(t,e){var r;const s=await H.get().fetch(t);if(!s.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${s.status} ${s.statusText}`);const a=await s.blob();return((r=e==null?void 0:e.data)==null?void 0:r.alphaMode)==="premultiplied-alpha"?createImageBitmap(a,{premultiplyAlpha:"none"}):createImageBitmap(a)}const Us={name:"loadTextures",extension:{type:O.LoadParser,priority:Ce.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return Fe(t,Jr)||Be(t,Zr)},async load(t,e,s){var n;let a=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await gs.isImageBitmapSupported()?a=await gs.loadImageBitmap(t,e):a=await en(t,e):a=await new Promise((i,o)=>{a=new Image,a.crossOrigin=this.config.crossOrigin,a.src=t,a.complete?i(a):(a.onload=()=>{i(a)},a.onerror=o)});const r=new Os({resource:a,alphaMode:"premultiply-alpha-on-upload",resolution:((n=e.data)==null?void 0:n.resolution)||Mt(t),...e.data});return $t(r,s,t)},unload(t){t.destroy(!0)}},Ds=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],tn=Ds.map(t=>`video/${t.substring(1)}`);function sn(t,e,s){s===void 0&&!e.startsWith("data:")?t.crossOrigin=rn(e):s!==!1&&(t.crossOrigin=typeof s=="string"?s:"anonymous")}function an(t){return new Promise((e,s)=>{t.addEventListener("canplaythrough",a),t.addEventListener("error",r),t.load();function a(){n(),e()}function r(i){n(),s(i)}function n(){t.removeEventListener("canplaythrough",a),t.removeEventListener("error",r)}})}function rn(t,e=globalThis.location){if(t.startsWith("data:"))return"";e||(e=globalThis.location);const s=new URL(t,document.baseURI);return s.hostname!==e.hostname||s.port!==e.port||s.protocol!==e.protocol?"anonymous":""}const nn={name:"loadVideo",extension:{type:O.LoadParser,name:"loadVideo"},test(t){const e=Fe(t,tn),s=Be(t,Ds);return e||s},async load(t,e,s){var h,c;const a={...At.defaultOptions,resolution:((h=e.data)==null?void 0:h.resolution)||Mt(t),alphaMode:((c=e.data)==null?void 0:c.alphaMode)||await Ka(),...e.data},r=document.createElement("video"),n={preload:a.autoLoad!==!1?"auto":void 0,"webkit-playsinline":a.playsinline!==!1?"":void 0,playsinline:a.playsinline!==!1?"":void 0,muted:a.muted===!0?"":void 0,loop:a.loop===!0?"":void 0,autoplay:a.autoPlay!==!1?"":void 0};Object.keys(n).forEach(d=>{const f=n[d];f!==void 0&&r.setAttribute(d,f)}),a.muted===!0&&(r.muted=!0),sn(r,t,a.crossorigin);const i=document.createElement("source");let o;if(t.startsWith("data:"))o=t.slice(5,t.indexOf(";"));else if(!t.startsWith("blob:")){const d=t.split("?")[0].slice(t.lastIndexOf(".")+1).toLowerCase();o=At.MIME_TYPES[d]||`video/${d}`}return i.src=t,o&&(i.type=o),new Promise(d=>{const f=async()=>{const u=new At({...a,resource:r});r.removeEventListener("canplay",f),e.data.preload&&await an(r),d($t(u,s,t))};r.addEventListener("canplay",f),r.appendChild(i)})},unload(t){t.destroy(!0)}},Ns={extension:{type:O.ResolveParser,name:"resolveTexture"},test:Us.test,parse:t=>{var e;return{resolution:parseFloat(((e=rt.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}},on={extension:{type:O.ResolveParser,priority:-2,name:"resolveJson"},test:t=>rt.RETINA_PREFIX.test(t)&&t.endsWith(".json"),parse:Ns.parse};class ln{constructor(){this._detections=[],this._initialized=!1,this.resolver=new rt,this.loader=new Tr,this.cache=le,this._backgroundLoader=new _r(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var n,i;if(this._initialized){fe("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let o=e.manifest;typeof o=="string"&&(o=await this.load(o)),this.resolver.addManifest(o)}const s=((n=e.texturePreference)==null?void 0:n.resolution)??1,a=typeof s=="number"?[s]:s,r=await this._detectFormats({preferredFormats:(i=e.texturePreference)==null?void 0:i.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:r,resolution:a}}),e.preferences&&this.setPreferences(e.preferences)}add(e){this.resolver.add(e)}async load(e,s){this._initialized||await this.init();const a=ks(e),r=Xe(e).map(o=>{if(typeof o!="string"){const h=this.resolver.getAlias(o);return h.some(c=>!this.resolver.hasKey(c))&&this.add(o),Array.isArray(h)?h[0]:h}return this.resolver.hasKey(o)||this.add({alias:o,src:o}),o}),n=this.resolver.resolve(r),i=await this._mapLoadToResolve(n,s);return a?i[r[0]]:i}addBundle(e,s){this.resolver.addBundle(e,s)}async loadBundle(e,s){this._initialized||await this.init();let a=!1;typeof e=="string"&&(a=!0,e=[e]);const r=this.resolver.resolveBundle(e),n={},i=Object.keys(r);let o=0,h=0;const c=()=>{s==null||s(++o/h)},d=i.map(f=>{const u=r[f];return h+=Object.keys(u).length,this._mapLoadToResolve(u,c).then(_=>{n[f]=_})});return await Promise.all(d),a?n[e[0]]:n}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const s=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(s))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const s=this.resolver.resolveBundle(e);Object.values(s).forEach(a=>{this._backgroundLoader.add(Object.values(a))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return le.get(e);const s={};for(let a=0;a<e.length;a++)s[a]=le.get(e[a]);return s}async _mapLoadToResolve(e,s){const a=[...new Set(Object.values(e))];this._backgroundLoader.active=!1;const r=await this.loader.load(a,s);this._backgroundLoader.active=!0;const n={};return a.forEach(i=>{const o=r[i.src],h=[i.src];i.alias&&h.push(...i.alias),h.forEach(c=>{n[c]=o}),le.set(h,o)}),n}async unload(e){this._initialized||await this.init();const s=Xe(e).map(r=>typeof r!="string"?r.src:r),a=this.resolver.resolve(s);await this._unloadFromResolved(a)}async unloadBundle(e){this._initialized||await this.init(),e=Xe(e);const s=this.resolver.resolveBundle(e),a=Object.keys(s).map(r=>this._unloadFromResolved(s[r]));await Promise.all(a)}async _unloadFromResolved(e){const s=Object.values(e);s.forEach(a=>{le.remove(a.src)}),await this.loader.unload(s)}async _detectFormats(e){let s=[];e.preferredFormats&&(s=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const a of e.detections)e.skipDetections||await a.test()?s=await a.add(s):e.skipDetections||(s=await a.remove(s));return s=s.filter((a,r)=>s.indexOf(a)===r),s}get detections(){return this._detections}setPreferences(e){this.loader.parsers.forEach(s=>{s.config&&Object.keys(s.config).filter(a=>a in e).forEach(a=>{s.config[a]=e[a]})})}}const Ie=new ln;pe.handleByList(O.LoadParser,Ie.loader.parsers).handleByList(O.ResolveParser,Ie.resolver.parsers).handleByList(O.CacheParser,Ie.cache.parsers).handleByList(O.DetectionParser,Ie.detections);pe.add(xr,wr,Ar,Sr,kr,Or,Lr,Rr,Fr,zr,Vr,Us,nn,yr,br,Ns,on);const ms={loader:O.LoadParser,resolver:O.ResolveParser,cache:O.CacheParser,detection:O.DetectionParser};pe.handle(O.Asset,t=>{const e=t.ref;Object.entries(ms).filter(([s])=>!!e[s]).forEach(([s,a])=>pe.add(Object.assign(e[s],{extension:e[s].extension??a})))},t=>{const e=t.ref;Object.keys(ms).filter(s=>!!e[s]).forEach(s=>pe.remove(e[s]))});class cn extends Qa{constructor(e,s){const{text:a,resolution:r,style:n,anchor:i,width:o,height:h,roundPixels:c,...d}=e;super({...d}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=s,this.text=a??"",this.style=n,this.resolution=r??null,this.allowChildren=!1,this._anchor=new Za({_onUpdate:()=>{this.onViewUpdate()}}),i&&(this.anchor=i),this.roundPixels=c??!1,o!==void 0&&(this.width=o),h!==void 0&&(this.height=h)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}set text(e){e=e.toString(),this._text!==e&&(this._text=e,this.onViewUpdate())}get text(){return this._text}set resolution(e){this._autoResolution=e===null,this._resolution=e,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(e){var s;e||(e={}),(s=this._style)==null||s.off("update",this.onViewUpdate,this),e instanceof this._styleClass?this._style=e:this._style=new this._styleClass(e),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(e){this._setWidth(e,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(e){this._setHeight(e,this.bounds.height)}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this.bounds.width,e.height=Math.abs(this.scale.y)*this.bounds.height,e}setSize(e,s){typeof e=="object"?(s=e.height??e.width,e=e.width):s??(s=e),e!==void 0&&this._setWidth(e,this.bounds.width),s!==void 0&&this._setHeight(s,this.bounds.height)}containsPoint(e){const s=this.bounds.width,a=this.bounds.height,r=-s*this.anchor.x;let n=0;return e.x>=r&&e.x<=r+s&&(n=-a*this.anchor.y,e.y>=n&&e.y<=n+a)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}_getKey(){return`${this.text}:${this._style.styleKey}:${this._resolution}`}destroy(e=!1){super.destroy(e),this.owner=null,this._bounds=null,this._anchor=null,(typeof e=="boolean"?e:e!=null&&e.style)&&this._style.destroy(e),this._style=null,this._text=null}}function dn(t,e){let s=t[0]??{};return(typeof s=="string"||t[1])&&(st(at,`use new ${e}({ text: "hi!", style }) instead`),s={text:s,style:t[1]}),s}class hn extends cn{constructor(...e){const s=dn(e,"Text");super(s,Ls),this.renderPipeId="text"}updateBounds(){const e=this._bounds,s=this._anchor,a=tr.measureText(this._text,this._style),{width:r,height:n}=a;e.minX=-s._x*r,e.maxX=e.minX+r,e.minY=-s._y*n,e.maxY=e.minY+n}}const he={rtp:.96,minMatchingSymbols:5,betModes:{base:{max_win:1e4}},symbols:{a:{paytable:[{13:500},{12:200},{11:100},{10:50},{9:25},{8:10},{7:5},{6:2},{5:1}]},b:{paytable:[{13:500},{12:200},{11:100},{10:50},{9:25},{8:10},{7:5},{6:2},{5:1}]},c:{paytable:[{13:500},{12:200},{11:100},{10:50},{9:25},{8:10},{7:5},{6:2},{5:1}]},d:{paytable:[{13:500},{12:200},{11:100},{10:50},{9:25},{8:10},{7:5},{6:2},{5:1}]},e:{paytable:[{13:600},{12:250},{11:125},{10:60},{9:30},{8:12},{7:6},{6:3},{5:1.5}]},f:{paytable:[{13:800},{12:300},{11:150},{10:75},{9:40},{8:15},{7:8},{6:4},{5:2}]},g:{paytable:[{13:800},{12:300},{11:150},{10:75},{9:40},{8:15},{7:8},{6:4},{5:2}]},h:{paytable:[{13:1e3},{12:400},{11:200},{10:100},{9:50},{8:20},{7:10},{6:5},{5:2.5}],special_properties:["wild"]},i:{paytable:[{13:1e3},{12:400},{11:200},{10:100},{9:50},{8:20},{7:10},{6:5},{5:2.5}]},j:{paytable:[{13:1500},{12:600},{11:300},{10:150},{9:75},{8:30},{7:15},{6:8},{5:4}]},k:{paytable:[{13:2e3},{12:800},{11:400},{10:200},{9:100},{8:40},{7:20},{6:10},{5:5}]},l:{paytable:[{13:3e3},{12:1200},{11:600},{10:300},{9:150},{8:60},{7:30},{6:15},{5:7.5}]},m:{paytable:[{13:5e3},{12:2e3},{11:1e3},{10:500},{9:250},{8:100},{7:50},{6:25},{5:10}],special_properties:["wild","multiplier"]},emptyslot:{paytable:[],special_properties:["scatter"]}}};var un=z('<p style="color: red;" class="svelte-1t2q5b9"><strong class="svelte-1t2q5b9">Error:</strong> </p>'),fn=z('<div class="svelte-1t2q5b9"> </div>'),pn=z('<details class="svelte-1t2q5b9"><summary class="svelte-1t2q5b9"> </summary> <!></details>'),gn=z(`<div style="
    position: fixed;
    top: 10px;
    left: 10px;
    background: rgba(0,0,0,0.8);
    color: white;
    padding: 10px;
    border-radius: 5px;
    font-family: monospace;
    font-size: 12px;
    z-index: 2000;
    max-width: 400px;
    max-height: 300px;
    overflow-y: auto;
  " class="svelte-1t2q5b9"><h3 class="svelte-1t2q5b9">ðŸŽ° Oma-peli Debug</h3> <p class="svelte-1t2q5b9"><strong class="svelte-1t2q5b9">Status:</strong> </p> <!> <p class="svelte-1t2q5b9"><strong class="svelte-1t2q5b9">Base:</strong> </p> <p class="svelte-1t2q5b9"><strong class="svelte-1t2q5b9">BG URL:</strong> </p> <p class="svelte-1t2q5b9"><strong class="svelte-1t2q5b9">Sample:</strong> </p> <!></div>`),mn=z('<div style="margin: 5px 0; font-size: 1.1em;" class="svelte-1t2q5b9"> </div>'),vn=z(`<div style="
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: linear-gradient(45deg, #ffd700, #ffed4a);
    color: #333;
    padding: 20px;
    border-radius: 15px;
    font-family: Arial, sans-serif;
    text-align: center;
    z-index: 3000;
    border: 3px solid #ffb700;
    box-shadow: 0 0 30px rgba(255, 215, 0, 0.8);
    animation: winPulse 2s infinite;
  " class="svelte-1t2q5b9"><h2 style="margin: 0 0 10px 0; font-size: 2em;" class="svelte-1t2q5b9">ðŸŽ‰ VOITTO! ðŸŽ‰</h2> <div style="font-size: 1.5em; font-weight: bold; margin: 10px 0;" class="svelte-1t2q5b9"> </div> <!> <button style="
        margin-top: 15px;
        padding: 8px 16px;
        background: #333;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 1em;
      " class="svelte-1t2q5b9">Jatka pelaamista</button></div>`),bn=z('<span style="background: rgba(0,0,0,0.3); padding: 3px 8px; border-radius: 4px;" class="svelte-1t2q5b9"> </span>'),yn=z('<div style="display: flex; flex-wrap: wrap; gap: 8px; font-size: 0.85em;" class="svelte-1t2q5b9"></div>'),_n=z('<div class="svelte-1t2q5b9"><div style="display: flex; align-items: center; gap: 10px; margin-bottom: 5px;" class="svelte-1t2q5b9"><span style="font-size: 1.5em; font-weight: bold;" class="svelte-1t2q5b9"> </span> <span style="color: #aaa; font-size: 0.9em;" class="svelte-1t2q5b9"> </span></div> <!></div>'),xn=z(`<div style="
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0, 0, 0, 0.95);
    color: white;
    padding: 30px;
    border-radius: 15px;
    font-family: Arial, sans-serif;
    z-index: 3000;
    border: 3px solid #ffd700;
    max-width: 600px;
    max-height: 80vh;
    overflow-y: auto;
  " class="svelte-1t2q5b9"><h2 style="margin: 0 0 20px 0; text-align: center; color: #ffd700;" class="svelte-1t2q5b9">ðŸ’° PAYTABLE</h2> <div style="margin-bottom: 15px; text-align: center; color: #aaa;" class="svelte-1t2q5b9"> </div> <div style="display: grid; gap: 10px;" class="svelte-1t2q5b9"></div> <div style="margin-top: 20px; text-align: center; font-size: 0.9em; color: #aaa;" class="svelte-1t2q5b9"> </div> <button style="
        margin-top: 20px;
        width: 100%;
        padding: 10px;
        background: #ffd700;
        color: #333;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1em;
        font-weight: bold;
      " class="svelte-1t2q5b9">Sulje</button></div>`),An=z(`<!> <!> <!> <div class="svelte-1t2q5b9"></div> <div style="
  position: absolute;
  top: 20px;
  right: 20px;
  background: rgba(0, 0, 0, 0.85);
  color: #ffd700;
  padding: 15px 20px;
  border-radius: 10px;
  font-family: 'Courier New', monospace;
  font-size: 18px;
  font-weight: bold;
  border: 2px solid #ffd700;
  box-shadow: 0 4px 15px rgba(255, 215, 0, 0.5);
  z-index: 1500;
  min-width: 180px;
" class="svelte-1t2q5b9"><div style="display: flex; justify-content: space-between; margin-bottom: 8px;" class="svelte-1t2q5b9"><span style="color: #fff;" class="svelte-1t2q5b9">CREDITS:</span> <span style="color: #ffd700;" class="svelte-1t2q5b9"> </span></div> <div style="display: flex; justify-content: space-between; border-top: 1px solid #555; padding-top: 8px;" class="svelte-1t2q5b9"><span style="color: #fff;" class="svelte-1t2q5b9">BET:</span> <span style="color: #00ff00;" class="svelte-1t2q5b9"> </span></div></div> <div style="
  position: absolute;
  bottom: 20px;
  left: 20px;
  background: rgba(0, 0, 0, 0.85);
  padding: 15px;
  border-radius: 10px;
  border: 2px solid #00ff00;
  z-index: 1500;
" class="svelte-1t2q5b9"><div style="color: white; font-size: 14px; margin-bottom: 10px; text-align: center; font-weight: bold;" class="svelte-1t2q5b9">BET CONTROLS</div> <div style="display: flex; gap: 10px; align-items: center;" class="svelte-1t2q5b9"><button style="
        padding: 8px 15px;
        background: #ff4444;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        font-weight: bold;
        transition: background 0.2s;
      " class="bet-btn-minus svelte-1t2q5b9">-</button> <div style="
      color: #00ff00;
      font-family: 'Courier New', monospace;
      font-size: 20px;
      font-weight: bold;
      min-width: 60px;
      text-align: center;
      background: rgba(0, 255, 0, 0.1);
      padding: 5px 10px;
      border-radius: 5px;
    " class="svelte-1t2q5b9"> </div> <button style="
        padding: 8px 15px;
        background: #44ff44;
        color: #000;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        font-weight: bold;
        transition: background 0.2s;
      " class="bet-btn-plus svelte-1t2q5b9">+</button> <button style="
        padding: 8px 12px;
        background: #ffd700;
        color: #000;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 14px;
        font-weight: bold;
        transition: background 0.2s;
      " class="bet-btn-max svelte-1t2q5b9">MAX</button></div></div> <button style="
    position: absolute;
    top: 130px;
    right: 20px;
    padding: 10px 15px;
    background-color: rgba(255, 215, 0, 0.3);
    border: 2px solid rgba(255, 215, 0, 0.7);
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    color: white;
    text-shadow: 0 0 5px rgba(0,0,0,0.8);
    z-index: 1000;
    min-width: 180px;
  " class="svelte-1t2q5b9">ðŸ’° PAYTABLE</button> <button class="svelte-1t2q5b9"> </button> <button title="SPIN" class="svelte-1t2q5b9"></button>`,1);function wn(t,e){As(e,!0);const s=13,a=1445,r=1e3,n=1.75,i=-30,o=-10,h=160,c=0,d=720,f=750,u=.8,_=50,b=30,W=-40,C=1,T="height",P=Math.round(100*n),A=Math.round(P*(700/760)),nt=A+10,ee=["a","b","c","d","e","f","g","h","i","j","k","l","emptyslot"],M=typeof window<"u"&&window.location.hostname.includes("github.io")?"/web-sdk/oma-peli/symbols":`${qe}/symbols`,ge={a:`${M}/Blue_hotrod.jpg`,b:`${M}/Blue_jacket.jpg`,c:`${M}/Blue_rollers.jpg`,d:`${M}/Blue_speakers.jpg`,e:`${M}/Premium_blonde.jpg`,f:`${M}/Premium_brunette.jpg`,g:`${M}/Premium_rocker.jpg`,h:`${M}/Red_bubblegum.jpg`,i:`${M}/Red_burger.jpg`,j:`${M}/Red_fries.jpg`,k:`${M}/Red_milkshake.jpg`,l:`${M}/Scatter.jpg`,emptyslot:`${M}/Emptyslot.jpg`},se=`${M}/bg_base.jpg`,Ae=`${M}/ReelFrames.png`,Ke=`${M}/RockABillyReels_logo.png`,Me={spin:`${qe}/sounds/spin.mp3`,stop:`${qe}/sounds/stop.mp3`,win:`${qe}/sounds/win.mp3`};let K=ne(!0),me={},ve=null,ae=null,$e=null,je=null,We=ne("Initializing..."),we=ne(""),G=[],ce=ne(1e3),V=ne(10);const jt=1,it=100;function Wt(p){if(p===6){const g=Math.random()<.5?"emptyslot":"h";return console.log(`Reel ${p} (MIDDLE): ${g}`),g}const y=ee.filter(g=>g!=="emptyslot"),l=y[Math.floor(Math.random()*y.length)];return console.log(`Reel ${p} (NORMAL): ${l}, available: ${y.length}`),l}function Ut(){const p=[];for(let y=0;y<s;y++)p.push(Wt(y));return p}function zs(p){return p<3?{col:0,row:p}:p<6?{col:1,row:p-3}:p===6?{col:2,row:0}:p<10?{col:3,row:p-7}:{col:4,row:p-10}}function qs(){const p=[],y={},l=[];for(let g=0;g<s;g++){const m=Ze[g];m==="h"&&l.push(g),y[m]||(y[m]=[]),y[m].push(g)}for(const g of ee){if(g==="h"||g==="emptyslot")continue;const m=y[g]||[],E=m.length+l.length,R=[...m,...l];if(E>=he.minMatchingSymbols){const U=he.symbols[g];let $=0;if(U&&U.paytable)for(const X of U.paytable){const L=E.toString();if(X[L]!==void 0){$=X[L];break}}$>0&&p.push({symbol:g,count:E,payout:$,positions:R})}}if(l.length>=he.minMatchingSymbols){const g=he.symbols.h;let m=0;if(g&&g.paytable)for(const E of g.paytable){const R=l.length.toString();if(E[R]!==void 0){m=E[R];break}}m>0&&p.push({symbol:"h",count:l.length,payout:m,positions:l})}return p}let Ee=ne(0),ot=ne(Se([])),Ue=ne(!1),Qe=ne(!1);function lt(p){if(!v(K)||!me[p])return;const y=me[p];y.currentTime=0,y.play().catch(l=>{console.warn("Ã„Ã¤nen toisto epÃ¤onnistui:",p,l)})}function Hs(p){De.forEach(y=>B.stage.removeChild(y)),De=[],p.forEach(y=>{y.positions.forEach(l=>{const g=ke[l],m=new wt().rect(0,0,P,A).fill({color:16776960,alpha:0}).stroke({color:16766720,width:4});m.x=g.container.x,m.y=g.container.y,B.stage.addChild(m),De.push(m);let E=0,R=1;const U=.05;B.ticker.add(()=>{E+=R*U,E>=.4&&(R=-1),E<=0&&(R=1),m.alpha=.5+E})})})}function Vs(){De.forEach(p=>B.stage.removeChild(p)),De=[]}let Ze=Ut(),ct,B,ke=[],De=[];class Gs{constructor(y,l){Y(this,"index");Y(this,"container");Y(this,"offset",0);Y(this,"speed",0);Y(this,"targetSpeed",30);Y(this,"state","idle");Y(this,"stopDelay",0);Y(this,"bounceOffset",0);Y(this,"bounceSpeed",0);Y(this,"bounceFrames",0);this.index=y,this.container=l}start(y){this.state="spinning",this.speed=0,this.targetSpeed=35,this.stopDelay=y}update(){this.state!=="idle"&&(this.state==="spinning"&&(this.speed<this.targetSpeed&&(this.speed+=2),this.stopDelay>0?this.stopDelay--:this.state="slowing"),this.state==="slowing"&&(this.speed*=.92,this.speed<2.5&&(this.state="bouncing",this.bounceSpeed=-8,this.bounceFrames=0,this.speed=0,this.offset=0,lt("stop"))),this.state==="bouncing"&&(this.bounceFrames++,this.bounceSpeed+=.8,this.bounceOffset+=this.bounceSpeed,this.bounceOffset>3&&(this.bounceOffset=3,this.bounceSpeed*=-.6),(this.bounceFrames>45||Math.abs(this.bounceSpeed)<.5&&Math.abs(this.bounceOffset)<1)&&(this.state="stopped",this.bounceOffset=0,this.bounceSpeed=0)),this.speed>0&&(this.offset+=this.speed,this.offset>=nt&&(this.offset=0,Ze[this.index]=Wt(this.index))))}draw(){const y=this.container;y.removeChildren();const l=Ze[this.index];if(!l||!ve||!ve[l])return;const g=ve[l];if(!g)return;const m=this.offset+this.bounceOffset,E=new Je(g);E.width=P,E.height=A,E.x=0,E.y=m,y.addChild(E)}}ws(async()=>{B=new Ms,await B.init({width:a,height:r,background:"#001a33"}),ct.appendChild(B.canvas);const p={};try{I(We,"Loading background and UI images..."),G.push(`Loading background: ${se}`),G.push(`Loading reel frames: ${Ae}`),G.push(`Loading logo: ${Ke}`),await Ie.load([{alias:"background",src:se},{alias:"reelframes",src:Ae},{alias:"logo",src:Ke}]),ae=_e.from("background"),$e=_e.from("reelframes"),je=_e.from("logo"),console.log("âœ… Background texture created:",ae.width,"x",ae.height),console.log("âœ… Reel frames texture created:",$e.width,"x",$e.height),console.log("âœ… Logo texture created:",je.width,"x",je.height),G.push("âœ… All UI images loaded"),I(We,"Loading symbols...");const l=[];for(const g of ee)l.push({alias:g,src:ge[g]});await Ie.load(l);for(const g of ee){const m=ge[g];G.push(`Loading symbol ${g}: ${m}`);try{const E=_e.from(g);p[g]=E,console.log(`âœ… Symbol ${g} loaded:`,E.width,"x",E.height),G.push(`âœ… Symbol ${g} loaded`)}catch(E){const R=`âŒ Failed to load symbol ${g} from ${m}: ${E}`;throw G.push(R),console.error(R),new Error(R)}}ve=p,I(We,"Assets loaded successfully!")}catch(l){I(we,`Asset loading failed: ${l}`),G.push(v(we)),console.error(v(we));return}console.log("Ladataan Ã¤Ã¤niefektit...");for(const[l,g]of Object.entries(Me)){const m=new Audio;m.src=g,m.preload="auto",m.volume=.7,m.load(),m.addEventListener("error",()=>{console.log(`Ã„Ã¤nitiedostoa ei lÃ¶ydy: ${g} (kÃ¤ytetÃ¤Ã¤n hiljaista placeholderia)`)}),me[l]=m}console.log("Ladataan Ã¤Ã¤niefektit...");for(const[l,g]of Object.entries(Me)){const m=new Audio;m.src=g,m.preload="auto",m.volume=.7,m.load(),m.addEventListener("error",()=>{console.log(`Ã„Ã¤nitiedostoa ei lÃ¶ydy: ${g} (kÃ¤ytetÃ¤Ã¤n hiljaista placeholderia)`)}),me[l]=m}if(console.log("Taustakuva ladattu, tekstuuri:",ae),ae){const l=new Je(ae);B.renderer.width/B.renderer.height;const g=l.texture.width/l.texture.height;let m;m=B.renderer.height/l.texture.height,m*=C,l.scale.set(m),l.x=(B.renderer.width-l.width)/2,l.y=(B.renderer.height-l.height)/2+W,B.stage.addChild(l),console.log("Taustakuva lisÃ¤tty:",T,"mode, size:",l.width.toFixed(0),"x",l.height.toFixed(0),"image aspect:",g.toFixed(2),"scale:",m.toFixed(2),"pos:",l.x.toFixed(0),l.y.toFixed(0))}else console.error("Taustakuva ei ole saatavilla!");[{x:70,y:120},{x:203,y:120},{x:345,y:120},{x:487,y:120},{x:620,y:120}].map(l=>({x:l.x+i,y:l.y+o})),ke=[];for(let l=0;l<s;l++){const g=zs(l),m=g.col,E=g.row,R=300+m*(P+20),U=250+E*(A+15),$=l===6?R+c:R,X=l===6?U+h:U,L=new Bt;L.x=$+i,L.y=X+o;const Le=[16711680,65280,255,16776960,16711935,65535,16753920,8388736,32768,128,16744448,8388863,33023],Q=new wt().rect(0,0,P,A).fill({color:Le[l],alpha:.3});Q.x=L.x,Q.y=L.y,B.stage.addChild(Q);const be=new Ls({fontFamily:"Arial",fontSize:20,fill:16777215,fontWeight:"bold",stroke:{color:0,width:2}}),N=new hn({text:l.toString(),style:be});N.x=L.x+5,N.y=L.y+5,B.stage.addChild(N);const q=new wt().rect(0,0,P,A).fill(16777215);q.x=L.x,q.y=L.y,L.mask=q,B.stage.addChild(q),B.stage.addChild(L),ke.push(new Gs(l,L))}if($e){const l=new Je($e);l.scale.set(1),l.x=250,l.y=200,B.stage.addChild(l),console.log("Reel frames lisÃ¤tty:",l.width.toFixed(0),"x",l.height.toFixed(0))}if(je){const l=new Je(je);l.scale.set(u),l.x=(B.renderer.width-l.width)/2+_,l.y=b,B.stage.addChild(l),console.log("Logo lisÃ¤tty pÃ¤Ã¤llimmÃ¤iseen layeriin:",l.width.toFixed(0),"x",l.height.toFixed(0))}B.ticker.add(Xs)});function Xs(){for(const p of ke)p.update(),p.draw();if(!v(Ue)&&ke.every(p=>p.state==="stopped")){const p=qs();p.length>0&&(I(ot,Se(p)),I(Ee,Se(p.reduce((y,l)=>y+l.payout,0))),I(Ue,!0),Ks(v(Ee)),console.log(`ðŸŽ‰ VOITTO! ${v(Ee)} pistettÃ¤! Uusi saldo: ${v(ce)}`),p.forEach(y=>{console.log(`${y.count}x ${y.symbol} = ${y.payout} pistettÃ¤`)}),Hs(p),lt("win"))}}function Ys(){if(v(ce)<v(V)){alert(`Not enough credits! Balance: ${v(ce)}, Bet: ${v(V)}`);return}I(ce,v(ce)-v(V)),I(ot,Se([])),I(Ee,0),I(Ue,!1),Vs(),Ze=Ut(),ke.forEach((p,y)=>p.start(60+y*10)),lt("spin")}function Ks(p){I(ce,v(ce)+p)}function Qs(){v(V)<it&&I(V,Se(Math.min(v(V)+1,it)))}function Zs(){v(V)>jt&&I(V,Se(Math.max(v(V)-1,jt)))}function Js(){I(V,it)}var Dt=An(),Nt=Ye(Dt);{var ea=p=>{var y=gn(),l=x(k(y),2),g=x(k(l));w(l);var m=x(l,2);{var E=N=>{var q=un(),de=x(k(q));w(q),Z(()=>D(de,` ${v(we)??""}`)),j(N,q)};oe(m,N=>{v(we)&&N(E)})}var R=x(m,2),U=x(k(R));U.nodeValue=` ${qe??""}`,w(R);var $=x(R,2),X=x(k($));X.nodeValue=` ${se??""}`,w($);var L=x($,2),Le=x(k(L));w(L);var Q=x(L,2);{var be=N=>{var q=pn(),de=k(q),pt=k(de);w(de);var gt=x(de,2);Ve(gt,17,()=>G,He,(mt,ye)=>{var re=fn(),Ne=k(re,!0);w(re),Z(()=>D(Ne,v(ye))),j(mt,re)}),w(q),Z(()=>D(pt,`Log (${G.length??""})`)),j(N,q)};oe(Q,N=>{G.length>0&&N(be)})}w(y),Z(()=>{D(g,` ${v(We)??""}`),D(Le,` ${ge.a??""}`)}),j(p,y)};oe(Nt,p=>{(v(We)!=="Assets loaded successfully!"||v(we))&&p(ea)})}var zt=x(Nt,2);{var ta=p=>{var y=vn(),l=x(k(y),2),g=k(l);w(l);var m=x(l,2);Ve(m,17,()=>v(ot),He,(R,U)=>{var $=mn(),X=k($);w($),Z(()=>D(X,`${v(U).count??""} Ã— ${v(U).symbol??""} = ${v(U).payout??""} pistettÃ¤`)),j(R,$)});var E=x(m,2);w(y),Z(()=>D(g,`${v(Ee)??""} pistettÃ¤`)),ie("click",E,()=>{I(Ue,!1)}),j(p,y)};oe(zt,p=>{v(Ee)>0&&v(Ue)&&p(ta)})}var qt=x(zt,2);{var sa=p=>{var y=xn(),l=x(k(y),2),g=k(l);w(l);var m=x(l,2);Ve(m,21,()=>Object.entries(he.symbols),He,($,X)=>{let L=()=>v(X)[0],Le=()=>v(X)[1];var Q=_n(),be=k(Q),N=k(be),q=k(N,!0);w(N);var de=x(N,2),pt=k(de,!0);w(de),w(be);var gt=x(be,2);{var mt=ye=>{var re=yn();Ve(re,21,()=>Le().paytable,He,(Ne,la)=>{var es=vs(),ca=Ye(es);Ve(ca,17,()=>Object.entries(v(la)),He,(da,ts)=>{let ha=()=>v(ts)[0],ua=()=>v(ts)[1];var vt=bn(),fa=k(vt);w(vt),Z(()=>D(fa,`${ha()??""}Ã— = ${ua()??""}x`)),j(da,vt)}),j(Ne,es)}),w(re),j(ye,re)};oe(gt,ye=>{Le().paytable&&ye(mt)})}w(Q),Z((ye,re,Ne)=>{Te(Q,"style",`
          background: rgba(255, 255, 255, 0.1);
          padding: 10px;
          border-radius: 8px;
          border-left: 4px solid ${ye??""};
        `),D(q,re),D(pt,Ne)},[()=>L()==="m"?"#ff0000":["l","k","j"].includes(L())?"#ffd700":["i","h","g","f"].includes(L())?"#00ff00":"#00bfff",()=>L().toUpperCase(),()=>L()==="m"?"â­ WILD/SPECIAL":["l","k","j"].includes(L())?"ðŸ‘‘ HIGH":["i","h","g","f"].includes(L())?"ðŸ’Ž MID":"ðŸŽµ LOW"]),j($,Q)}),w(m);var E=x(m,2),R=k(E);w(E);var U=x(E,2);w(y),Z($=>{D(g,`Voitto vaatii vÃ¤hintÃ¤Ã¤n ${he.minMatchingSymbols} samaa symbolia`),D(R,`RTP: ${$??""}% | Max Win: ${he.betModes.base.max_win}x`)},[()=>(he.rtp*100).toFixed(0)]),ie("click",U,()=>{I(Qe,!1)}),j(p,y)};oe(qt,p=>{v(Qe)&&p(sa)})}var Ht=x(qt,2);Ha(Ht,p=>ct=p,()=>ct);var dt=x(Ht,2),ht=k(dt),Vt=x(k(ht),2),aa=k(Vt,!0);w(Vt),w(ht);var Gt=x(ht,2),Xt=x(k(Gt),2),ra=k(Xt,!0);w(Xt),w(Gt),w(dt);var ut=x(dt,2),Yt=x(k(ut),2),Kt=k(Yt),ft=x(Kt,2),na=k(ft,!0);w(ft);var Qt=x(ft,2),ia=x(Qt,2);w(Yt),w(ut);var Zt=x(ut,2),Oe=x(Zt,2),oa=k(Oe,!0);w(Oe);var Jt=x(Oe,2);Te(Jt,"style",`
    position: absolute;
    left: ${d}px;                    /* X-koordinaatti (sÃ¤Ã¤dettÃ¤vissÃ¤) */
    top: ${f}px;                     /* Y-koordinaatti (sÃ¤Ã¤dettÃ¤vissÃ¤) */
    width: 60px;                           /* Napin leveys */
    height: 60px;                          /* Napin korkeus */
    border-radius: 50%;                    /* PyÃ¶reÃ¤ muoto */
    background-color: rgba(0,255,0,0.2);   /* VihreÃ¤, lÃ¤pinÃ¤kyvÃ¤ */
    border: 2px solid rgba(0,255,0,0.5);   /* VihreÃ¤ reunus */
    cursor: pointer;                       /* KÃ¤si-kursori hover:ssa */
    z-index: 1000;                         /* Varmista ettÃ¤ nappi on pÃ¤Ã¤llimmÃ¤isenÃ¤ */
    font-size: 0;                          /* Piilota teksti */
  `),Z(p=>{D(aa,p),D(ra,v(V)),D(na,v(V)),Te(Oe,"style",`
    position: absolute;
    top: 10px;
    right: 10px;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: ${(v(K)?"rgba(0,255,0,0.2)":"rgba(255,0,0,0.2)")??""};
    border: 2px solid ${(v(K)?"rgba(0,255,0,0.5)":"rgba(255,0,0,0.5)")??""};
    cursor: pointer;
    z-index: 1001;
    font-size: 20px;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
  `),Te(Oe,"title",v(K)?"MykistÃ¤ Ã¤Ã¤net":"Laita Ã¤Ã¤net pÃ¤Ã¤lle"),D(oa,v(K)?"ðŸ”Š":"ðŸ”‡")},[()=>v(ce).toLocaleString()]),ie("click",Kt,Zs),ie("click",Qt,Qs),ie("click",ia,Js),ie("click",Zt,()=>{I(Qe,!v(Qe))}),ie("click",Oe,()=>{I(K,!v(K))}),ie("click",Jt,Ys),j(t,Dt),Es()}var En=z('<p class="error svelte-8ys286">âŒ VÃ¤Ã¤rÃ¤ salasana!</p>'),kn=z('<div class="auth-container svelte-8ys286"><div class="auth-box svelte-8ys286"><h2 class="svelte-8ys286">ðŸŽ° Peli Access</h2> <p class="svelte-8ys286">Anna salasana pÃ¤Ã¤stÃ¤ksesi peliin:</p> <form><input type="password" placeholder="Salasana..." class="password-input svelte-8ys286" autocomplete="off"> <button type="submit" class="submit-btn svelte-8ys286">Kirjaudu sisÃ¤Ã¤n</button></form> <!></div></div>');function On(t,e){As(e,!1);let s=Va(e,"isAuthenticated",12,!1),a=St(""),r=St(!1);const n="slot2024";function i(){v(a)===n?(s(!0),sessionStorage.setItem("gameAuthenticated","true")):(I(r,!0),I(a,""),setTimeout(()=>I(r,!1),3e3))}ws(()=>{s(sessionStorage.getItem("gameAuthenticated")==="true")}),ba();var o=vs(),h=Ye(o);{var c=d=>{var f=kn(),u=k(f),_=x(k(u),4),b=k(_);nr(b),qa(2),w(_);var W=x(_,2);{var C=T=>{var F=En();j(T,F)};oe(W,T=>{v(r)&&T(C)})}w(u),w(f),or(b,()=>v(a),T=>I(a,T)),ie("submit",_,lr(i)),j(d,f)};oe(h,d=>{s()||d(c)})}j(t,o),Es()}var Ln=z('<div style="position: fixed; top: 10px; left: 10px; z-index: 9999; color: white; font-weight: bold;">HELLO MAD CRANE ðŸ‘‹ (oma peli kÃ¤ynnissÃ¤)</div> <!>',1),Sn=z("<!> <!>",1);function Un(t){let e=St(!1);var s=Sn(),a=Ye(s);On(a,{get isAuthenticated(){return v(e)},set isAuthenticated(i){I(e,i)},$$legacy:!0});var r=x(a,2);{var n=i=>{var o=Ln(),h=x(Ye(o),2);wn(h,{}),j(i,o)};oe(r,i=>{v(e)&&i(n)})}j(t,s)}export{Rs as A,Ts as C,mr as R,hr as S,Cs as V,Un as _,dr as u};
